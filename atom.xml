<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Dana Shaw&#39;s blog</title>
  
  <subtitle>为了去往别处</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://dana5haw.com/"/>
  <updated>2020-07-04T07:03:07.383Z</updated>
  <id>https://dana5haw.com/</id>
  
  <author>
    <name>Dana Shaw</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>redhat7搭建DNS服务-主从DNS服务器同步</title>
    <link href="https://dana5haw.com/posts/redhat7-DNS-master-slave-sync.html"/>
    <id>https://dana5haw.com/posts/redhat7-DNS-master-slave-sync.html</id>
    <published>2020-07-04T06:22:24.000Z</published>
    <updated>2020-07-04T07:03:07.383Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>搭建DNS主从服务同步，基于<a href="https://dana5haw.com/posts/rehat7-DNS-bind-chroot">上一篇</a></p><a id="more"></a><h2 id="搭建DNS主从服务"><a href="#搭建DNS主从服务" class="headerlink" title="搭建DNS主从服务"></a>搭建DNS主从服务</h2><p>主服务器：192.168.0.106<br>从服务器：192.168.0.102</p><ol><li>从服务器配置</li></ol><ul><li>安装bind-chroot<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install bind-chroot</span><br></pre></td></tr></table></figure></li><li>编辑主配置文件<code>/etc/named.conf</code><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image0d91dbc7dcdc6728.png" alt="image0d91dbc7dcdc6728.png"><br>改为any：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image.png" alt="image.png"></li><li>编辑区域配置文件<code>/etc/named.rfc1912.zones</code>，从主服务器同步DNS正向解析配置文件和反向解析配置文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">zone &quot;linuxprobe.com&quot; IN &#123;</span><br><span class="line">type slave;</span><br><span class="line">file &quot;slaves&#x2F;linuxprobe.com.zone&quot;; #主从同步成功后，将会在&#x2F;var&#x2F;named&#x2F;slaves目录生成正向解析文件</span><br><span class="line">&#125;; #这部分区域是正向解析</span><br><span class="line">zone &quot;0.168.192.in-addr.arpa&quot; IN &#123;</span><br><span class="line">type slave;</span><br><span class="line">file &quot;slaves&#x2F;192.168.0.arpa&quot;; #主从同步成功后，将会在&#x2F;var&#x2F;named&#x2F;slaves目录生成反向解析文件</span><br><span class="line">&#125;; #这部分区域是反向解析</span><br></pre></td></tr></table></figure></li></ul><ol start="2"><li>主服务器配置</li></ol><ul><li>修改区域配置文件<code>/etc/named.rfc1912.zones</code>，允许从服务器同步DNS正向解析配置文件和反向解析配置文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">zone &quot;linuxprobe.com&quot; IN &#123;</span><br><span class="line">type master;</span><br><span class="line">file &quot;linuxprobe.com.zone&quot;;</span><br><span class="line">allow-update &#123; 192.168.0.102; &#125;; #这是从服务器的IP地址</span><br><span class="line">&#125;; #这部分区域是正向解析</span><br><span class="line">zone &quot;0.168.192.in-addr.arpa&quot; IN &#123;</span><br><span class="line">type master;</span><br><span class="line">file &quot;192.168.0.arpa&quot;;</span><br><span class="line">allow-update &#123; 192.168.0.102; &#125;; #这是从服务器的IP地址</span><br><span class="line">&#125;; #这部分区域是反向解析</span><br></pre></td></tr></table></figure></li></ul><ol start="3"><li>测试DNS主从服务</li></ol><ul><li>主服务器清空iptables规则<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables -F</span><br><span class="line">service iptables save</span><br></pre></td></tr></table></figure></li><li>主服务器重启DNS服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart named</span><br></pre></td></tr></table></figure></li><li>从服务器设置DNS服务器为本机192.168.0.102<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nmtui #进入图形化界面配置网卡信息，修改DNS服务器为本机IP地址</span><br><span class="line">systemctl restart network #重启网卡使DNS服务配置生效</span><br></pre></td></tr></table></figure></li><li>从服务器启动DNS服务并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start named</span><br><span class="line">systemctl enable named</span><br></pre></td></tr></table></figure></li><li>检查从服务器是否成功同步主服务器的正向解析文件和反向解析文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls  &#x2F;var&#x2F;named&#x2F;slaves</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image9d5229b33cfee0af.png" alt="image9d5229b33cfee0af.png"><div class="note [class]">            <p>注意：从主服务器同步的正向解析文件和反向解析文件，在从服务器上看到是乱码。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image0158f96fd8b78464.png" alt="image0158f96fd8b78464.png"></p>          </div></li><li>检查从服务器是否能够成功使用主服务器的DNS服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ping www.linuxprobe.com #测试域名解析结果，解析的IP是192.168.0.106说明DNS正向解析生效</span><br><span class="line">host 192.168.0.106 #测试反向解析结果，解析的域名是www.linuxprobe.com说明DNS反向解析生效</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;搭建DNS主从服务同步，基于&lt;a href=&quot;https://dana5haw.com/posts/rehat7-DNS-bind-chroot&quot;&gt;上一篇&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="DNS服务" scheme="https://dana5haw.com/tags/DNS%E6%9C%8D%E5%8A%A1/"/>
    
      <category term="主从DNS服务同步" scheme="https://dana5haw.com/tags/%E4%B8%BB%E4%BB%8EDNS%E6%9C%8D%E5%8A%A1%E5%90%8C%E6%AD%A5/"/>
    
  </entry>
  
  <entry>
    <title>redhat7搭建DNS服务-正向解析、反向解析</title>
    <link href="https://dana5haw.com/posts/rehat7-DNS-bind-chroot.html"/>
    <id>https://dana5haw.com/posts/rehat7-DNS-bind-chroot.html</id>
    <published>2020-07-04T05:50:03.000Z</published>
    <updated>2020-07-04T06:21:55.479Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>搭建DNS服务，实现正向解析和反向解析。正向解析：将域名解析为IP。反向解析：将IP解析为域名。</p><a id="more"></a><h2 id="搭建DNS服务"><a href="#搭建DNS服务" class="headerlink" title="搭建DNS服务"></a>搭建DNS服务</h2><ol><li>安装bind-chroot<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install bind-chroot</span><br></pre></td></tr></table></figure></li><li>编辑主配置文件<code>/etc/named.conf</code><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image0d91dbc7dcdc6728.png" alt="image0d91dbc7dcdc6728.png"><br>改为any：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image.png" alt="image.png"></li><li>编辑区域配置文件<code>/etc/named.rfc1912.zones</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">zone &quot;linuxprobe.com&quot; IN &#123;</span><br><span class="line">type master;</span><br><span class="line">file &quot;linuxprobe.com.zone&quot;;</span><br><span class="line">allow-update &#123; none; &#125;;</span><br><span class="line">&#125;; #这部分区域是正向解析</span><br><span class="line">zone &quot;0.168.192.in-addr.arpa&quot; IN &#123;</span><br><span class="line">type master;</span><br><span class="line">file &quot;192.168.0.arpa&quot;;</span><br><span class="line">allow-update &#123; none; &#125;;</span><br><span class="line">&#125;; #这部分区域是反向解析</span><br></pre></td></tr></table></figure></li><li>正向解析实验</li></ol><ul><li>将正向解析模板配置文件<code>/var/named/named.localhost</code>复制到<code>/var/named/linuxprobe.com.zone</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -a &#x2F;var&#x2F;named&#x2F;named.localhost &#x2F;var&#x2F;named&#x2F;linuxprobe.com.zone</span><br></pre></td></tr></table></figure><div class="note [class]">            <p>注意：这里的cp命令带上了<code>-a</code>参数，指的是拷贝模板文件的所有属性，包括 所属主、所属组。</p>          </div><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image1bd5c450d28cdc83.png" alt="image1bd5c450d28cdc83.png"></li><li>编辑正向解析配置文件<code>/var/named/linuxprobe.com.zone</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$TTL 1D</span><br><span class="line">@       IN SOA  linuxprobe.com. root.linuxprobe.com (</span><br><span class="line">                                        0       ; serial</span><br><span class="line">                                        1D      ; refresh</span><br><span class="line">                                        1H      ; retry</span><br><span class="line">                                        1W      ; expire</span><br><span class="line">                                        3H )    ; minimum</span><br><span class="line">        NS      ns.linuxprobe.com.</span><br><span class="line">ns      IN A    192.168.0.106</span><br><span class="line">www     IN A    192.168.0.106</span><br></pre></td></tr></table></figure><div class="note [class]">            <p>解析：第二行<code>linuxprobe.com.</code>指的是DNS的区域，必须写域名的完整格式（最后一个<code>.</code>号不能漏写）。<code>root.linuxprobe.com</code>指的是域名管理员的邮箱。</p>          </div></li><li>启动DNS服务并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start named</span><br><span class="line">systemctl enable named</span><br></pre></td></tr></table></figure></li><li>测试DNS服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nmtui #进入图形化配置界面设置网卡信息，将DNS服务器设置为本机IP地址&#96;192.168.0.106&#96;</span><br><span class="line">systemctl restart network #重启网卡</span><br><span class="line">ping www.linuxprobe.com #测试域名解析结果，解析的IP是192.168.0.106说明DNS正向解析生效</span><br></pre></td></tr></table></figure></li></ul><ol start="5"><li>反向解析实验</li></ol><ul><li>将反向解析模板配置文件<code>/var/named/named.loopback</code>复制到<code>/var/named/192.168.0.arpa</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -a &#x2F;var&#x2F;named&#x2F;named.loopback &#x2F;var&#x2F;named&#x2F;192.168.0.arpa</span><br></pre></td></tr></table></figure><div class="note [class]">            <p>注意：这里的cp命令带上了<code>-a</code>参数，指的是拷贝模板文件的所有属性，包括 所属主、所属组。</p>          </div><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image1bd5c450d28cdc83.png" alt="image1bd5c450d28cdc83.png"></li><li>编辑反向解析配置文件<code>/var/named/192.168.0.arpa</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$TTL 1D</span><br><span class="line">@       IN SOA  linuxprobe.com. root.linuxprobe.com (</span><br><span class="line">                                        0       ; serial</span><br><span class="line">                                        1D      ; refresh</span><br><span class="line">                                        1H      ; retry</span><br><span class="line">                                        1W      ; expire</span><br><span class="line">                                        3H )    ; minimum</span><br><span class="line">        NS      ns.linuxprobe.com.</span><br><span class="line">ns      IN A    192.168.0.106</span><br><span class="line">106     PTR     www.linuxprobe.com</span><br></pre></td></tr></table></figure><div class="note [class]">            <p>解析：第二行<code>linuxprobe.com.</code>指的是DNS的区域，必须写域名的完整格式（最后一个<code>.</code>号不能漏写）。<code>root.linuxprobe.com</code>指的是域名管理员的邮箱。<br>PTR是指针记录，仅用于反向解析 </p>          </div></li><li>重启DNS服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart named</span><br></pre></td></tr></table></figure></li><li>测试DNS服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">host 192.168.0.106 #测试反向解析结果，解析的域名是www.linuxprobe.com说明DNS反向解析生效</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;搭建DNS服务，实现正向解析和反向解析。正向解析：将域名解析为IP。反向解析：将IP解析为域名。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="DNS服务" scheme="https://dana5haw.com/tags/DNS%E6%9C%8D%E5%8A%A1/"/>
    
      <category term="正向解析" scheme="https://dana5haw.com/tags/%E6%AD%A3%E5%90%91%E8%A7%A3%E6%9E%90/"/>
    
      <category term="反向解析" scheme="https://dana5haw.com/tags/%E5%8F%8D%E5%90%91%E8%A7%A3%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>autofs自动挂载服务</title>
    <link href="https://dana5haw.com/posts/redhat7-autofs.html"/>
    <id>https://dana5haw.com/posts/redhat7-autofs.html</id>
    <published>2020-07-02T16:41:13.000Z</published>
    <updated>2020-07-04T06:53:19.892Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>重启机器使用yum之前，都得挂载一下yum仓库，实在很费时间。</p><a id="more"></a><h2 id="autofs自动挂载服务设置"><a href="#autofs自动挂载服务设置" class="headerlink" title="autofs自动挂载服务设置"></a>autofs自动挂载服务设置</h2><ol><li>安装autofs软件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install autofs</span><br></pre></td></tr></table></figure></li><li>编辑autofs主配置文件<code>/etc/auto.master</code><br>增加这一句：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;media &#x2F;etc&#x2F;iso.misc</span><br></pre></td></tr></table></figure></li><li>编辑配置文件<code>/etc/iso.misc</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iso -fstype&#x3D;iso9660 :&#x2F;dev&#x2F;cdrom</span><br></pre></td></tr></table></figure><div class="note [class]">            <p>解析：linux系统中，<code>iso</code>指的是挂载点：<code>/media/iso</code>。<br><code>-fstype=iso9660</code>指的是文件类型。<br><code>:/dev/cdrom</code>指的是设备名称。</p>          </div></li><li>重启autofs服务生效<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart autofs</span><br></pre></td></tr></table></figure><h2 id="实验现象"><a href="#实验现象" class="headerlink" title="实验现象"></a>实验现象</h2>进入到iso目录时，自动挂载设备到iso目录。目的是在需要挂载的时候去挂载设备，节省服务器的带宽资源。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/03/image.png" alt="image.png"></li></ol><h2 id="补充-开机自动挂载镜像"><a href="#补充-开机自动挂载镜像" class="headerlink" title="补充-开机自动挂载镜像"></a>补充-开机自动挂载镜像</h2><p>以上设置完成之后，还需要做一步操作，才可以实现镜像自动挂载。<br>那就是修改yum仓库配置文件<code>/etc/yum.repo.d/rhel7.repo</code>，把本机的挂载点改为/media/iso。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[rhel7]</span><br><span class="line">name&#x3D;rhel7</span><br><span class="line">baseurl&#x3D;file:&#x2F;&#x2F;&#x2F;media&#x2F;iso</span><br><span class="line">enabled&#x3D;1</span><br><span class="line">gpgcheck&#x3D;0</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;重启机器使用yum之前，都得挂载一下yum仓库，实在很费时间。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="autofs" scheme="https://dana5haw.com/tags/autofs/"/>
    
      <category term="自动挂载" scheme="https://dana5haw.com/tags/%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD/"/>
    
  </entry>
  
  <entry>
    <title>redhat7自带的NFS服务实现Linux主机之间的目录共享</title>
    <link href="https://dana5haw.com/posts/redhat7-NFS-linux-share.html"/>
    <id>https://dana5haw.com/posts/redhat7-NFS-linux-share.html</id>
    <published>2020-07-02T16:04:51.000Z</published>
    <updated>2020-07-02T16:39:08.736Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>redhat7自带的NFS服务可以实现linux主机之间的目录共享，不需要额外安装其他服务。</p><a id="more"></a><h2 id="NFS实现linux主机之间的目录共享"><a href="#NFS实现linux主机之间的目录共享" class="headerlink" title="NFS实现linux主机之间的目录共享"></a>NFS实现linux主机之间的目录共享</h2><p>redhat7默认安装了nfs-utils软件，只需要使用即可。</p><ol><li>服务端创建共享目录，设置共享范围，清空防火墙规则，并重启服务</li></ol><ul><li><p>创建共享目录</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir &#x2F;linuxshare</span><br><span class="line">chmod -Rf 777 &#x2F;linuxshare</span><br></pre></td></tr></table></figure></li><li><p>设置共享范围：编辑<code>/etc/exports</code>文件<br>配置文件内容，只有一行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;linuxshare *(sync,rw,root_squash)</span><br></pre></td></tr></table></figure><div class="note [class]">            <p>解析：linux系统中，<code>*</code>指的是共享范围是所有人。<br><code>root_squash</code>是把客户端的root用户映射为匿名用户。举例：金正恩到中国，就没有中国主席的权限。</p>          </div></li><li><p>清空防火墙规则</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables -F</span><br><span class="line">service iptables save</span><br></pre></td></tr></table></figure></li><li><p>重启服务</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart nfs-server</span><br></pre></td></tr></table></figure></li></ul><ol start="2"><li>客户端创建挂载点<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir &#x2F;linuxshareclient</span><br><span class="line">chmod -Rf 777 &#x2F;linuxshareclient</span><br></pre></td></tr></table></figure></li><li>客户端挂载服务端的共享目录，即可实现linux主机之间的目录共享<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;fstab</span><br></pre></td></tr></table></figure></li></ol><ul><li>新增这一句，挂载上服务端的共享目录：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">192.168.0.106:&#x2F;linuxshare &#x2F;linuxshareclient nfs defaults 0 0</span><br></pre></td></tr></table></figure></li><li>挂载，重启服务即可生效：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mount -a</span><br><span class="line">systemctl restart nfs-server</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;redhat7自带的NFS服务可以实现linux主机之间的目录共享，不需要额外安装其他服务。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="redhat7" scheme="https://dana5haw.com/tags/redhat7/"/>
    
      <category term="NFS服务" scheme="https://dana5haw.com/tags/NFS%E6%9C%8D%E5%8A%A1/"/>
    
  </entry>
  
  <entry>
    <title>redhat7搭建samba服务-linux与linux主机共享</title>
    <link href="https://dana5haw.com/posts/redhat7-build-samba-server-linux-to-linux.html"/>
    <id>https://dana5haw.com/posts/redhat7-build-samba-server-linux-to-linux.html</id>
    <published>2020-07-02T15:28:09.000Z</published>
    <updated>2020-07-02T17:10:33.523Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>利用cifs加密协议，samba服务实现linux和linux之间的文件共享。服务端和客户端都需要安装cifs-utils软件。</p><a id="more"></a><h2 id="设置cifs实现目录共享"><a href="#设置cifs实现目录共享" class="headerlink" title="设置cifs实现目录共享"></a>设置cifs实现目录共享</h2><p>环境：samba服务端已搭建好。</p><ol><li>服务端和客户端安装cifs-utils：切记，在机器重启之后，必须重新挂载yum仓库，否则yu无法正常使用！并且服务端一定要清除防火墙规则：<code>iptables -F</code>、<code>service iptables save</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install cifs-utils</span><br></pre></td></tr></table></figure></li><li>客户端创建共享目录挂载点<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir &#x2F;xkj</span><br><span class="line">chmod -Rf 777 &#x2F;xkj</span><br></pre></td></tr></table></figure></li><li>客户端设置samba密码文件，用于连接服务端samba服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;root</span><br><span class="line">vi auth.smb</span><br></pre></td></tr></table></figure></li></ol><details><summary>点击展开配置文件内容</summary><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">username&#x3D;sambaxkj</span><br><span class="line">password&#x3D;redhat</span><br><span class="line">domain&#x3D;WORKGROUP #samba服务端设置的工作组名称</span><br></pre></td></tr></table></figure></p></details><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 600 auth.smb #权限设置为只允许自己读写</span><br></pre></td></tr></table></figure><ol start="4"><li>客户端设置挂载信息，将服务端的共享目录挂载到本地<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;fstab</span><br></pre></td></tr></table></figure>新增这个挂载信息：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;192.168.0.106&#x2F;sambaxkj &#x2F;xkj cifs credentials&#x3D;&#x2F;root&#x2F;auth.smb 0 0</span><br></pre></td></tr></table></figure><div class="note [class]">            <p>解析：linux系统中，<code>//</code>用于访问samba服务；windows系统中，<code>\\</code>用于访问samba服务。<br><code>credentials</code>指的是挂载到samba服务端的凭据。</p>          </div>挂载即可生效：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -a</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;利用cifs加密协议，samba服务实现linux和linux之间的文件共享。服务端和客户端都需要安装cifs-utils软件。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="redhat" scheme="https://dana5haw.com/tags/redhat/"/>
    
      <category term="samba服务" scheme="https://dana5haw.com/tags/samba%E6%9C%8D%E5%8A%A1/"/>
    
  </entry>
  
  <entry>
    <title>redhat7搭建samba服务-linux与windows主机共享</title>
    <link href="https://dana5haw.com/posts/redhat7-build-samba-server.html"/>
    <id>https://dana5haw.com/posts/redhat7-build-samba-server.html</id>
    <published>2020-07-02T13:29:43.000Z</published>
    <updated>2020-07-02T15:04:28.323Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>redhat7搭建samba服务，实现linux和windows之间的文件共享。</p><a id="more"></a><h2 id="搭建samba服务"><a href="#搭建samba服务" class="headerlink" title="搭建samba服务"></a>搭建samba服务</h2><ol><li>安装samba<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y samba</span><br></pre></td></tr></table></figure></li><li>配置文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;samba&#x2F;smb.conf</span><br></pre></td></tr></table></figure></li></ol><details><summary>点击展开配置文件内容</summary><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">workgroup &#x3D; MYGROUP</span><br><span class="line">server string &#x3D; MicroSoft Server 2003</span><br><span class="line">log file &#x3D; &#x2F;var&#x2F;log&#x2F;samba&#x2F;log.%m</span><br><span class="line">max log size &#x3D; 50</span><br><span class="line">security &#x3D; user</span><br><span class="line">passdb backend &#x3D; tdbsam</span><br><span class="line">[sambaxkj]</span><br><span class="line">comment &#x3D; do not delete it!</span><br><span class="line">path &#x3D; &#x2F;sambaxkj</span><br><span class="line">public &#x3D; no</span><br><span class="line">writable &#x3D; yes</span><br></pre></td></tr></table></figure></p></details><div class="note [class]">            <p>注意：testparam命令可以检查配置文件语法是否正确。</p>          </div><ol start="3"><li><p>创建共享目录</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir &#x2F;sambaxkj</span><br><span class="line">chmod -Rf 777 &#x2F;sambaxkj</span><br></pre></td></tr></table></figure></li><li><p>清空防火墙规则</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables -F</span><br><span class="line">service iptables save</span><br></pre></td></tr></table></figure></li><li><p>重启samba服务</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart smb</span><br></pre></td></tr></table></figure></li></ol><div class="note [class]">            <p>注意：重启失败，因为没有关闭selinux。关闭selinux之后即可正常启动samba服务。<br>临时关闭selinux；<code>setenforce 0</code></p>          </div><ol start="6"><li>创建samba用户<br>本地用户无法连接samba共享目录，必须 创建专用的samba用户，用于共享目录。</li></ol><ul><li>新增samba用户 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd sambaxkj</span><br></pre></td></tr></table></figure></li><li>设置samba用户的密码 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pdbedit -a -u sambaxkj</span><br></pre></td></tr></table></figure></li></ul><h2 id="测试文件共享服务"><a href="#测试文件共享服务" class="headerlink" title="测试文件共享服务"></a>测试文件共享服务</h2><p>在windows主机进入“运行”，输入<code>\\192.168.0.106</code>，（IP地址为linux虚拟机的IP地址），即可使用samba用户登录到linux主机的共享目录。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/02/image3737797bcaf9fc47.png" alt="image3737797bcaf9fc47.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/02/imagebad2fbf34f95b501.png" alt="imagebad2fbf34f95b501.png"><br>可实现linux主机和windows主机的目录共享，任意一方都可增删改共享目录里面的内容。</p><hr><p>打开selinux之后（setenforce 1），无法进入共享目录。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/02/image3b2eafe2f3714179.png" alt="image3b2eafe2f3714179.png"><br>这是什么原因导致的？<br>是selinux上下文的限制还是域的限制？<br>答案：是上下文的限制。</p><ul><li>查看与samba服务相关的sebool设置：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getsebool -a |grep samba</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/02/image45dd94e9b113c328.png" alt="image45dd94e9b113c328.png"></li><li>打开samba_export_all_rw上下文，允许samba用户对共享目录可读可写<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setsebool -P samba_export_all_rw&#x3D;on</span><br></pre></td></tr></table></figure></li><li>重启samba服务，现在samba用户就可以对共享目录做读写操作了<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart smb</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;redhat7搭建samba服务，实现linux和windows之间的文件共享。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="redhat" scheme="https://dana5haw.com/tags/redhat/"/>
    
      <category term="samba服务" scheme="https://dana5haw.com/tags/samba%E6%9C%8D%E5%8A%A1/"/>
    
  </entry>
  
  <entry>
    <title>redhat7配置yum仓库的方法</title>
    <link href="https://dana5haw.com/posts/redhat7-config-yum-repo.html"/>
    <id>https://dana5haw.com/posts/redhat7-config-yum-repo.html</id>
    <published>2020-07-02T12:42:05.000Z</published>
    <updated>2020-07-02T12:57:18.596Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>老是记不住yum仓库怎么配置，经常遇到yum仓库配置不对引起的错误，在此记下redhat7的yum仓库配置方法。</p><a id="more"></a><h2 id="yum仓库配置方法"><a href="#yum仓库配置方法" class="headerlink" title="yum仓库配置方法"></a>yum仓库配置方法</h2><p>环境：redhat7</p><ol><li>编辑yum配置文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;etc&#x2F;yum.repo.d</span><br><span class="line">vi rhel7.repo</span><br></pre></td></tr></table></figure><details><summary>点击展开配置文件内容</summary><p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[rhel7]</span><br><span class="line">name&#x3D;rhel7</span><br><span class="line">baseurl&#x3D;file:&#x2F;&#x2F;&#x2F;media&#x2F;cdrom</span><br><span class="line">enabled&#x3D;1</span><br><span class="line">gpgcheck&#x3D;0</span><br></pre></td></tr></table></figure></p></details><ol start="2"><li>挂载光盘</li></ol><ul><li>创建挂载点<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p &#x2F;media&#x2F;cdrom</span><br></pre></td></tr></table></figure></li><li>挂载光盘<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount &#x2F;dev&#x2F;cdrom &#x2F;media&#x2F;cdrom</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;老是记不住yum仓库怎么配置，经常遇到yum仓库配置不对引起的错误，在此记下redhat7的yum仓库配置方法。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="redhat7" scheme="https://dana5haw.com/tags/redhat7/"/>
    
      <category term="yum仓库" scheme="https://dana5haw.com/tags/yum%E4%BB%93%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>怎么下载官方win10的安装镜像</title>
    <link href="https://dana5haw.com/posts/download-windows10-iso-mirror.html"/>
    <id>https://dana5haw.com/posts/download-windows10-iso-mirror.html</id>
    <published>2020-06-29T10:37:45.000Z</published>
    <updated>2020-07-01T11:43:38.707Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>想装一个win10专业版的虚拟机 使用一下，win10的官方镜像还是去官网下载比较纯净。</p><a id="more"></a><h2 id="下载渠道"><a href="#下载渠道" class="headerlink" title="下载渠道"></a>下载渠道</h2><p>win10镜像官网下载地址：<a href="https://www.microsoft.com/zh-cn/software-download/windows10ISO/" target="_blank" rel="noopener">https://www.microsoft.com/zh-cn/software-download/windows10ISO/</a><br>这个地址，要在手机端打开，才可以进入到iso镜像下载页面。<br>于是在PC浏览器设置为手机模式，任选一款手机型号，刷新页面即可进入iso镜像下载页面。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/06/29/image.png" alt="image.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/06/29/image954b028096a46b59.png" alt="image954b028096a46b59.png"></p><h2 id="下载工具"><a href="#下载工具" class="headerlink" title="下载工具"></a>下载工具</h2><p>测试了几款下载软件，最好用的是motrix。好用的定义：不用注册账号、下载速度快。</p><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p>参考了<a href="https://windows10.pro/microsoft-com-software-download-windows10-iso/" target="_blank" rel="noopener">这篇文章</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;想装一个win10专业版的虚拟机 使用一下，win10的官方镜像还是去官网下载比较纯净。&lt;/p&gt;
    
    </summary>
    
    
      <category term="windows" scheme="https://dana5haw.com/categories/windows/"/>
    
    
      <category term="win10官方iso镜像" scheme="https://dana5haw.com/tags/win10%E5%AE%98%E6%96%B9iso%E9%95%9C%E5%83%8F/"/>
    
  </entry>
  
  <entry>
    <title>谷歌浏览器安装crx扩展程序失败，怎么解决</title>
    <link href="https://dana5haw.com/posts/google-chrome-crx-failed-zip.html"/>
    <id>https://dana5haw.com/posts/google-chrome-crx-failed-zip.html</id>
    <published>2020-06-27T15:40:08.000Z</published>
    <updated>2020-06-27T15:57:09.685Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>新电脑用不了谷歌浏览器，我想的是，先把omega-proxy这个扩展程序装上，就可以代理上网，登录谷歌账号并开启冲浪之旅。但是把crx扩展程序拖到扩展程序安装，居然安装失败。怎么办？</p><a id="more"></a><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>在网上查到，有这样的解决方法：把crx文件重命名为zip或者rar，拖到扩展程序里面，自动解压，就可以安装成功。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/06/27/image.png" alt="image.png"></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>参考了<a href="https://blog.csdn.net/wst0717/article/details/88867047" target="_blank" rel="noopener">这篇文章</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;新电脑用不了谷歌浏览器，我想的是，先把omega-proxy这个扩展程序装上，就可以代理上网，登录谷歌账号并开启冲浪之旅。但是把crx扩展程序拖到扩展程序安装，居然安装失败。怎么办？&lt;/p&gt;
    
    </summary>
    
    
      <category term="问题解决" scheme="https://dana5haw.com/categories/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"/>
    
      <category term="谷歌浏览器" scheme="https://dana5haw.com/categories/%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
    
    
      <category term="谷歌浏览器" scheme="https://dana5haw.com/tags/%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
    
      <category term="扩展程序安装失败" scheme="https://dana5haw.com/tags/%E6%89%A9%E5%B1%95%E7%A8%8B%E5%BA%8F%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5/"/>
    
  </entry>
  
  <entry>
    <title>今天父亲节</title>
    <link href="https://dana5haw.com/posts/father&#39;s-day.html"/>
    <id>https://dana5haw.com/posts/father&#39;s-day.html</id>
    <published>2020-06-21T16:21:04.000Z</published>
    <updated>2020-06-27T14:12:28.847Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>今天父亲节，昨天听说今天是世界末日，今天有些地区似乎可以看到日环食。今天可真特殊。</p><a id="more"></a><h2 id="又画了一个电子卡片，用了新电脑"><a href="#又画了一个电子卡片，用了新电脑" class="headerlink" title="又画了一个电子卡片，用了新电脑"></a>又画了一个电子卡片，用了新电脑</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/06/22/fd.gif" alt="fd.gif"></p><h2 id="感受"><a href="#感受" class="headerlink" title="感受"></a>感受</h2><p>要表达爱，只有表达出来，对方才能确认到，所以不要吝啬说爱。看到他人因自己而快乐，自己也得到快乐。</p><h2 id="永远猎奇永远鲜活"><a href="#永远猎奇永远鲜活" class="headerlink" title="永远猎奇永远鲜活"></a>永远猎奇永远鲜活</h2><p>设置了新的桌面背景和浏览器背景。打算买轻便本，华为还是macbook？手里的华为先体验一段时间再说。学习必须要继续，不能偷懒。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/06/22/imaged3f620429a9c4c15.png" alt="imaged3f620429a9c4c15.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/06/22/imagecd9ee8b85b6fd188.png" alt="imagecd9ee8b85b6fd188.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/06/22/image818c7082c453fadc.png" alt="image818c7082c453fadc.png"><br>正则表达式的这个图太好看了：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/06/22/image7edfb6ee23065f6b.png" alt="image7edfb6ee23065f6b.png"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;今天父亲节，昨天听说今天是世界末日，今天有些地区似乎可以看到日环食。今天可真特殊。&lt;/p&gt;
    
    </summary>
    
    
      <category term="好奇星球" scheme="https://dana5haw.com/categories/%E5%A5%BD%E5%A5%87%E6%98%9F%E7%90%83/"/>
    
    
      <category term="父亲节" scheme="https://dana5haw.com/tags/%E7%88%B6%E4%BA%B2%E8%8A%82/"/>
    
  </entry>
  
  <entry>
    <title>怎样把hexo博客同步部署到github和gitee</title>
    <link href="https://dana5haw.com/posts/hexo-meanwhile-deploy-github-gitee.html"/>
    <id>https://dana5haw.com/posts/hexo-meanwhile-deploy-github-gitee.html</id>
    <published>2020-06-21T15:37:07.000Z</published>
    <updated>2020-06-27T14:12:28.910Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>虽然很早就设置了同步部署hexo博客到github和gitee，但是后来发现gitee上没有同步博客了。为啥？今天登录到gitee，才发现我并没有设置ssh公钥😓</p><a id="more"></a><h2 id="同步部署到gitee"><a href="#同步部署到gitee" class="headerlink" title="同步部署到gitee"></a>同步部署到gitee</h2><p>将电脑的ssh公钥复制到gitee网站，设置ssh验证。我当前gitee和github都是用的ssh验证方式。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/06/21/imageaa5936e007c6a218.png" alt="imageaa5936e007c6a218.png"><br>hexo主配置文件（_config.yml）：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/06/22/image.png" alt="image.png"></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>参考了<a href="https://junqifu.github.io/article/1ff6794c/" target="_blank" rel="noopener">这篇文章</a><br>以及<a href="https://blog.csdn.net/yakuaback/article/details/104513748" target="_blank" rel="noopener">这篇文章</a>告诉我，gitee的博客需要我们去手动更新。</p><hr><p>Tips:</p><ol><li>hexo设置的同步部署，是同步部署到github仓库和gitee仓库</li><li>gitee不会自动更新我们的网站，我们部署了新的博客文章，需要到gitee去手动同步（感觉好麻烦哦，一点都不智能，应该有自动更新的简便方法(:</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;虽然很早就设置了同步部署hexo博客到github和gitee，但是后来发现gitee上没有同步博客了。为啥？今天登录到gitee，才发现我并没有设置ssh公钥😓&lt;/p&gt;
    
    </summary>
    
    
      <category term="hexo博客" scheme="https://dana5haw.com/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="hexo博客" scheme="https://dana5haw.com/tags/hexo%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="同步部署" scheme="https://dana5haw.com/tags/%E5%90%8C%E6%AD%A5%E9%83%A8%E7%BD%B2/"/>
    
      <category term="github" scheme="https://dana5haw.com/tags/github/"/>
    
      <category term="gitee" scheme="https://dana5haw.com/tags/gitee/"/>
    
  </entry>
  
  <entry>
    <title>部署hexo博客报错，账号密码错误，怎么办</title>
    <link href="https://dana5haw.com/posts/hexo-deploy-failed-access-token.html"/>
    <id>https://dana5haw.com/posts/hexo-deploy-failed-access-token.html</id>
    <published>2020-06-21T15:10:56.000Z</published>
    <updated>2020-06-27T14:12:29.027Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>部署hexo博客时，输入了错误的账号名，怎么更正这个账号名？google了一下，需要更改windows凭据。</p><a id="more"></a><h2 id="报错信息"><a href="#报错信息" class="headerlink" title="报错信息"></a>报错信息</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">remote: Incorrect username or password ( access token )</span><br></pre></td></tr></table></figure><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>更改windows凭据。</p><ol><li>windows键+i，进入windows设置界面，搜索“windows凭据”，进入设置页面。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/06/21/image91ed43d33ba27aad.png" alt="image91ed43d33ba27aad.png"></li><li>点击“编辑”，修改账号名。（这儿只是举例，实际需要修改github对应的凭据）<br><img src="https://v2ray.dana5haw.com:8008/images/2020/06/21/imagee431cb9f98276c97.png" alt="imagee431cb9f98276c97.png"></li></ol><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>参考<a href="https://blog.csdn.net/mmyhs/article/details/81589419" target="_blank" rel="noopener">这篇文章</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;部署hexo博客时，输入了错误的账号名，怎么更正这个账号名？google了一下，需要更改windows凭据。&lt;/p&gt;
    
    </summary>
    
    
      <category term="hexo博客" scheme="https://dana5haw.com/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="hexo博客" scheme="https://dana5haw.com/tags/hexo%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="账号或密码错误" scheme="https://dana5haw.com/tags/%E8%B4%A6%E5%8F%B7%E6%88%96%E5%AF%86%E7%A0%81%E9%94%99%E8%AF%AF/"/>
    
      <category term="windows凭据" scheme="https://dana5haw.com/tags/windows%E5%87%AD%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>换了电脑怎样快速迁移hexo博客</title>
    <link href="https://dana5haw.com/posts/change-PC-migrate-hexo-blog.html"/>
    <id>https://dana5haw.com/posts/change-PC-migrate-hexo-blog.html</id>
    <published>2020-06-21T14:56:25.000Z</published>
    <updated>2020-06-27T14:12:28.941Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>换了电脑，怎么迁移hexo博客，在新电脑上面继续写博客？折腾半天，终于找到一个简单有效快速的方法。</p><a id="more"></a><h2 id="方法步骤"><a href="#方法步骤" class="headerlink" title="方法步骤"></a>方法步骤</h2><ol><li><p>在新电脑上面安装必备软件：git、nodejs、hexo。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/06/21/image.png" alt="image.png"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo</span><br></pre></td></tr></table></figure></li><li><p>新电脑创建一个目录用来写博客。</p></li><li><p>接下来，把旧电脑上面博客目录的这几个文件/文件夹拷贝到新电脑的博客目录。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">_config.yml</span><br><span class="line">package.json</span><br><span class="line">scaffolds&#x2F;</span><br><span class="line">source&#x2F;</span><br><span class="line">themes&#x2F;</span><br></pre></td></tr></table></figure></li><li><p>在新电脑的博客目录执行这几条命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install #安装依赖包</span><br><span class="line">npm install hexo-deployer-git --save #hexo部署工具</span><br><span class="line">npm install hexo-generator-sitemap --save #站点地图</span><br></pre></td></tr></table></figure></li><li><p>依次输入这两条命令，在浏览器输入<a href="http://localhost:4000即可本地测试博客迁移是否成功。">http://localhost:4000即可本地测试博客迁移是否成功。</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure></li><li><p>部署命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure></li></ol><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p>最终参考<a href="https://wungjyan.github.io/2018/08/17/move-hexo/" target="_blank" rel="noopener">这篇文章</a></p><hr><p>Tips：</p><ol><li>在没有本地测试博客是否迁移成功之前，一定不要<code>hexo d</code>部署。否则，将导致网站完全空白！</li><li>迁移博客一定不要在新电脑上面初始化<code>hexo init xxx</code>，切记！只需要拷贝迁移博客需要用到的文件/文件夹。</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;换了电脑，怎么迁移hexo博客，在新电脑上面继续写博客？折腾半天，终于找到一个简单有效快速的方法。&lt;/p&gt;
    
    </summary>
    
    
      <category term="hexo博客" scheme="https://dana5haw.com/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="迁移hexo博客" scheme="https://dana5haw.com/tags/%E8%BF%81%E7%A7%BBhexo%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>python读取复杂json并取值</title>
    <link href="https://dana5haw.com/posts/python-read-complex-json.html"/>
    <id>https://dana5haw.com/posts/python-read-complex-json.html</id>
    <published>2020-06-17T14:00:46.000Z</published>
    <updated>2020-06-27T14:12:28.524Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>工作中需要读取复杂json，并取需要的值写入excel，整理配置。</p><a id="more"></a><h2 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8-*- #</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> xlwt</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">book = xlwt.Workbook(encoding=<span class="string">'GBK'</span>,style_compression=<span class="number">0</span>)</span><br><span class="line">sheet = book.add_sheet(<span class="string">'XX'</span>, cell_overwrite_ok=<span class="literal">True</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">0</span>, <span class="string">'所属集群'</span>) </span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">1</span>, <span class="string">'系统名称'</span>) </span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">2</span>, <span class="string">'请求白名单'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">3</span>, <span class="string">'响应白名单'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">4</span>, <span class="string">'WAF白名单'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">5</span>, <span class="string">'封装名单'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">6</span>, <span class="string">'验证名单'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">7</span>, <span class="string">'websocket路径'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">8</span>, <span class="string">'配置文件名称'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">9</span>, <span class="string">'是否防护'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">10</span>, <span class="string">'后端服务器'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">11</span>, <span class="string">'是否https协议'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">12</span>, <span class="string">'IP白名单'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">13</span>, <span class="string">'IP黑名单'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">14</span>, <span class="string">'是否关闭测试页面'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">15</span>, <span class="string">'reload状态码'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">16</span>, <span class="string">'WAF是否监控'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">17</span>, <span class="string">'RAS版本'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">18</span>, <span class="string">'RAS指纹'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">19</span>, <span class="string">'IP保护模式'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">20</span>, <span class="string">'IP白名单个数'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">21</span>, <span class="string">'IP黑名单个数'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">22</span>, <span class="string">'请求白名单个数'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">23</span>, <span class="string">'响应白名单个数'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">24</span>, <span class="string">'WAF白名单个数'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">25</span>, <span class="string">'websocket路径个数'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">26</span>, <span class="string">'自动化工具拦截'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">27</span>, <span class="string">'破解行为拦截'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">28</span>, <span class="string">'WAF模块'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">29</span>, <span class="string">'App防护'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">30</span>, <span class="string">'web标准保护'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">31</span>, <span class="string">'web高级保护'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">32</span>, <span class="string">'命令执行'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">33</span>, <span class="string">'文件上传'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">34</span>, <span class="string">'java反序列化'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">35</span>, <span class="string">'本地文件包含'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">36</span>, <span class="string">'php注入'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">37</span>, <span class="string">'协议攻击'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">38</span>, <span class="string">'远程文件包含'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">39</span>, <span class="string">'扫描探测'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">40</span>, <span class="string">'固定会话'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">41</span>, <span class="string">'SQL注入'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">42</span>, <span class="string">'XSS'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'XX.json'</span>,<span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.load(f)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将json字典写入excel</span></span><br><span class="line">n = <span class="number">1</span></span><br><span class="line">usefuldata=data[<span class="string">'system_settings'</span>][<span class="string">'_value'</span>][<span class="string">'nginx'</span>][<span class="string">'upstreams'</span>] <span class="comment">#各系统配置详情</span></span><br><span class="line">ip_black=data[<span class="string">'system_settings'</span>][<span class="string">'_value'</span>][<span class="string">'ip_black'</span>][<span class="string">'value'</span>][<span class="string">'_value'</span>] <span class="comment">#IP黑名单</span></span><br><span class="line">sphinx_version=data[<span class="string">'sphinx_version'</span>][<span class="string">'_value'</span>] <span class="comment">#版本</span></span><br><span class="line">certFp=data[<span class="string">'system_settings'</span>][<span class="string">'_value'</span>][<span class="string">'cluster'</span>][<span class="string">'mobile'</span>][<span class="string">'certFp'</span>][<span class="string">'_value'</span>] <span class="keyword">if</span> <span class="string">'certFp'</span> <span class="keyword">in</span> data[<span class="string">'system_settings'</span>][<span class="string">'_value'</span>][<span class="string">'cluster'</span>][<span class="string">'mobile'</span>] <span class="keyword">else</span> <span class="string">""</span><span class="comment">#指纹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> list_item <span class="keyword">in</span> usefuldata:</span><br><span class="line">    <span class="comment"># print(list_item) #打印站点名</span></span><br><span class="line">    protect_list=usefuldata[list_item][<span class="string">'protected_list'</span>][<span class="string">'_value'</span>] <span class="comment">#防护模块</span></span><br><span class="line">    EncapsulationListOut=usefuldata[list_item][<span class="string">'EncapsulationListOut'</span>][<span class="string">'_value'</span>] <span class="comment">#封装名单</span></span><br><span class="line">    FullWhiteList=usefuldata[list_item][<span class="string">'FullWhiteList'</span>][<span class="string">'_value'</span>] <span class="comment">#请求白名单</span></span><br><span class="line">    FullWhiteListOut=usefuldata[list_item][<span class="string">'FullWhiteListOut'</span>][<span class="string">'_value'</span>] <span class="comment">#响应白名单</span></span><br><span class="line">    Inject_Whitelist=usefuldata[list_item][<span class="string">'Inject_Whitelist'</span>][<span class="string">'_value'</span>] <span class="comment">#WAF白名单</span></span><br><span class="line">    VerificationList=usefuldata[list_item][<span class="string">'VerificationList'</span>][<span class="string">'_value'</span>] <span class="comment">#验证名单</span></span><br><span class="line">    WafEnabledModules=usefuldata[list_item][<span class="string">'WafEnabledModules'</span>][<span class="string">'_value'</span>] <span class="keyword">if</span> <span class="string">'WafEnabledModules'</span> <span class="keyword">in</span> usefuldata[list_item] <span class="keyword">else</span> &#123;&#125; <span class="comment">#WAF模块</span></span><br><span class="line">    site_customize_name=usefuldata[list_item][<span class="string">'site_customize_name'</span>][<span class="string">'_value'</span>] <span class="comment">#系统名称</span></span><br><span class="line">    websocket_paths=usefuldata[list_item][<span class="string">'websocket_paths'</span>][<span class="string">'_value'</span>] <span class="keyword">if</span> <span class="string">'websocket_paths'</span> <span class="keyword">in</span> usefuldata[list_item] <span class="keyword">else</span> <span class="string">""</span> <span class="comment">#websocket路径</span></span><br><span class="line">    istrue=usefuldata[list_item][<span class="string">'enabled'</span>][<span class="string">'_value'</span>] <span class="comment">#是否防护</span></span><br><span class="line">    UpstreamList=usefuldata[list_item][<span class="string">'UpstreamList'</span>][<span class="string">'_value'</span>] <span class="comment">#后端服务器</span></span><br><span class="line">    IsUpstreamHttps=usefuldata[list_item][<span class="string">'IsUpstreamHttps'</span>][<span class="string">'_value'</span>] <span class="comment">#是否https协议</span></span><br><span class="line">    IpWhiteList=usefuldata[list_item][<span class="string">'IpWhiteList'</span>][<span class="string">'_value'</span>] <span class="comment">#IP白名单</span></span><br><span class="line">    disable_123456=usefuldata[list_item][<span class="string">'disable_123456'</span>][<span class="string">'_value'</span>] <span class="keyword">if</span> <span class="string">'disable_123456'</span> <span class="keyword">in</span> usefuldata[list_item] <span class="keyword">else</span> <span class="string">""</span> <span class="comment">#是否关闭测试页面</span></span><br><span class="line">    reload_status_code=usefuldata[list_item][<span class="string">'reload_status_code'</span>][<span class="string">'_value'</span>] <span class="keyword">if</span> <span class="string">'reload_status_code'</span> <span class="keyword">in</span> usefuldata[list_item] <span class="keyword">else</span> <span class="string">""</span> <span class="comment">#reload状态码</span></span><br><span class="line">    waf_learning_mode=usefuldata[list_item][<span class="string">'waf_learning_mode'</span>][<span class="string">'_value'</span>] <span class="comment">#WAF是否监控</span></span><br><span class="line">    IpListSwitch=usefuldata[list_item][<span class="string">'IpListSwitch'</span>][<span class="string">'_value'</span>] <span class="comment">#IP保护模式</span></span><br><span class="line">    len_IpWhiteList=len(IpWhiteList) <span class="comment">#IP白名单个数</span></span><br><span class="line">    len_ip_black=len(ip_black) <span class="comment">#IP黑名单个数</span></span><br><span class="line">    len_FullWhiteList=len(FullWhiteList) <span class="comment">#请求白名单个数</span></span><br><span class="line">    len_FullWhiteListOut=len(FullWhiteListOut) <span class="comment">#响应白名单个数</span></span><br><span class="line">    len_Inject_Whitelist=len(Inject_Whitelist) <span class="comment">#WAF白名单个数</span></span><br><span class="line">    len_websocket_paths=len(websocket_paths) <span class="comment">#websocket路径个数</span></span><br><span class="line">    automated_tool_intercept=protect_list[<span class="string">'automated_tool_intercept'</span>] <span class="comment">#自动化工具拦截</span></span><br><span class="line">    crack_behavior_interception=protect_list[<span class="string">'crack_behavior_interception'</span>] <span class="comment">#破解行为拦截</span></span><br><span class="line">    injection_attack_interception=protect_list[<span class="string">'injection_attack_interception'</span>] <span class="comment">#WAF模块</span></span><br><span class="line">    mobile_sdk_protection=protect_list[<span class="string">'mobile_sdk_protection'</span>] <span class="comment">#App防护</span></span><br><span class="line">    web_standard_protection=protect_list[<span class="string">'web_standard_protection'</span>] <span class="comment">#web标准保护</span></span><br><span class="line">    web_advanced_protection=protect_list[<span class="string">'web_advanced_protection'</span>] <span class="comment">#web高级保护</span></span><br><span class="line">    command_excute_interception=WafEnabledModules[<span class="string">'command_excute_interception'</span>] <span class="keyword">if</span> <span class="string">'command_excute_interception'</span> <span class="keyword">in</span> WafEnabledModules <span class="keyword">else</span> <span class="string">""</span> <span class="comment">#命令执行</span></span><br><span class="line">    file_upload_interception=WafEnabledModules[<span class="string">'file_upload_interception'</span>] <span class="keyword">if</span> <span class="string">'file_upload_interception'</span> <span class="keyword">in</span> WafEnabledModules <span class="keyword">else</span> <span class="string">""</span> <span class="comment">#文件上传</span></span><br><span class="line">    java_deserialization_interception=WafEnabledModules[<span class="string">'java_deserialization_interception'</span>] <span class="keyword">if</span> <span class="string">'java_deserialization_interception'</span> <span class="keyword">in</span> WafEnabledModules <span class="keyword">else</span> <span class="string">""</span> <span class="comment">#java反序列化</span></span><br><span class="line">    local_file_include_interception=WafEnabledModules[<span class="string">'local_file_include_interception'</span>] <span class="keyword">if</span> <span class="string">'local_file_include_interception'</span> <span class="keyword">in</span> WafEnabledModules <span class="keyword">else</span> <span class="string">""</span> <span class="comment">#本地文件包含</span></span><br><span class="line">    php_injection_interception=WafEnabledModules[<span class="string">'php_injection_interception'</span>] <span class="keyword">if</span> <span class="string">'php_injection_interception'</span> <span class="keyword">in</span> WafEnabledModules <span class="keyword">else</span> <span class="string">""</span> <span class="comment">#php注入</span></span><br><span class="line">    protocol_attack_interception=WafEnabledModules[<span class="string">'protocol_attack_interception'</span>] <span class="keyword">if</span> <span class="string">'protocol_attack_interception'</span> <span class="keyword">in</span> WafEnabledModules <span class="keyword">else</span> <span class="string">""</span> <span class="comment">#协议攻击</span></span><br><span class="line">    remote_file_include_interception=WafEnabledModules[<span class="string">'remote_file_include_interception'</span>] <span class="keyword">if</span> <span class="string">'remote_file_include_interception'</span> <span class="keyword">in</span> WafEnabledModules <span class="keyword">else</span> <span class="string">""</span> <span class="comment">#远程文件包含</span></span><br><span class="line">    scanner_detect_interception=WafEnabledModules[<span class="string">'scanner_detect_interception'</span>] <span class="keyword">if</span> <span class="string">'scanner_detect_interception'</span> <span class="keyword">in</span> WafEnabledModules <span class="keyword">else</span> <span class="string">""</span> <span class="comment">#扫描探测</span></span><br><span class="line">    session_fixation_interception=WafEnabledModules[<span class="string">'session_fixation_interception'</span>] <span class="keyword">if</span> <span class="string">'session_fixation_interception'</span> <span class="keyword">in</span> WafEnabledModules <span class="keyword">else</span> <span class="string">""</span> <span class="comment">#固定会话</span></span><br><span class="line">    sql_injection_interception=WafEnabledModules[<span class="string">'sql_injection_interception'</span>] <span class="keyword">if</span> <span class="string">'sql_injection_interception'</span> <span class="keyword">in</span> WafEnabledModules <span class="keyword">else</span> <span class="string">""</span> <span class="comment">#sql注入</span></span><br><span class="line">    xss_injection_interception=WafEnabledModules[<span class="string">'xss_injection_interception'</span>] <span class="keyword">if</span> <span class="string">'xss_injection_interception'</span> <span class="keyword">in</span> WafEnabledModules <span class="keyword">else</span> <span class="string">""</span> <span class="comment">#XSS</span></span><br><span class="line"></span><br><span class="line">    sheet.write(n,<span class="number">0</span>,<span class="string">'XX'</span>) <span class="comment">#所属集群</span></span><br><span class="line">    sheet.write(n,<span class="number">1</span>,str(site_customize_name)) <span class="comment">#系统名称</span></span><br><span class="line">    sheet.write(n,<span class="number">2</span>,str(FullWhiteList)) <span class="comment">#请求白名单</span></span><br><span class="line">    sheet.write(n,<span class="number">3</span>,str(FullWhiteListOut)) <span class="comment">#响应白名单</span></span><br><span class="line">    sheet.write(n,<span class="number">4</span>,str(Inject_Whitelist)) <span class="comment">#WAF白名单</span></span><br><span class="line">    sheet.write(n,<span class="number">5</span>,str(EncapsulationListOut)) <span class="comment">#封装名单</span></span><br><span class="line">    sheet.write(n,<span class="number">6</span>,str(VerificationList)) <span class="comment">#验证名单</span></span><br><span class="line">    sheet.write(n,<span class="number">7</span>,str(websocket_paths)) <span class="comment">#websocket路径</span></span><br><span class="line">    sheet.write(n,<span class="number">8</span>,str(list_item)) <span class="comment">#配置文件名称</span></span><br><span class="line">    sheet.write(n,<span class="number">9</span>,str(istrue)) <span class="comment">#是否防护</span></span><br><span class="line">    sheet.write(n,<span class="number">10</span>,str(UpstreamList)) <span class="comment">#后端服务器</span></span><br><span class="line">    sheet.write(n,<span class="number">11</span>,str(IsUpstreamHttps)) <span class="comment">#是否https协议</span></span><br><span class="line">    sheet.write(n,<span class="number">12</span>,str(IpWhiteList)) <span class="comment">#IP白名单</span></span><br><span class="line">    sheet.write(n,<span class="number">13</span>,str(ip_black)) <span class="comment">#IP黑名单</span></span><br><span class="line">    sheet.write(n,<span class="number">14</span>,str(disable_123456)) <span class="comment">#是否关闭测试页面</span></span><br><span class="line">    sheet.write(n,<span class="number">15</span>,str(reload_status_code)) <span class="comment">#reload状态码</span></span><br><span class="line">    sheet.write(n,<span class="number">16</span>,str(waf_learning_mode)) <span class="comment">#WAF是否监控</span></span><br><span class="line">    sheet.write(n,<span class="number">17</span>,str(sphinx_version)) <span class="comment">#RAS版本</span></span><br><span class="line">    sheet.write(n,<span class="number">18</span>,str(certFp)) <span class="comment">#RAS指纹</span></span><br><span class="line">    sheet.write(n,<span class="number">19</span>,str(IpListSwitch)) <span class="comment">#IP保护模式</span></span><br><span class="line">    sheet.write(n,<span class="number">20</span>,str(len_IpWhiteList)) <span class="comment">#IP白名单个数</span></span><br><span class="line">    sheet.write(n,<span class="number">21</span>,str(len_ip_black)) <span class="comment">#IP黑名单个数</span></span><br><span class="line">    sheet.write(n,<span class="number">22</span>,str(len_FullWhiteList)) <span class="comment">#请求白名单个数</span></span><br><span class="line">    sheet.write(n,<span class="number">23</span>,str(len_FullWhiteListOut)) <span class="comment">#响应白名单个数</span></span><br><span class="line">    sheet.write(n,<span class="number">24</span>,str(len_Inject_Whitelist)) <span class="comment">#WAF白名单个数</span></span><br><span class="line">    sheet.write(n,<span class="number">25</span>,str(len_websocket_paths)) <span class="comment">#websocket路径个数</span></span><br><span class="line">    sheet.write(n,<span class="number">26</span>,str(automated_tool_intercept)) <span class="comment">#自动化工具拦截</span></span><br><span class="line">    sheet.write(n,<span class="number">27</span>,str(crack_behavior_interception)) <span class="comment">#破解行为拦截</span></span><br><span class="line">    sheet.write(n,<span class="number">28</span>,str(injection_attack_interception)) <span class="comment">#WAF模块</span></span><br><span class="line">    sheet.write(n,<span class="number">29</span>,str(mobile_sdk_protection)) <span class="comment">#App防护</span></span><br><span class="line">    sheet.write(n,<span class="number">30</span>,str(web_standard_protection)) <span class="comment">#web标准保护</span></span><br><span class="line">    sheet.write(n,<span class="number">31</span>,str(web_advanced_protection)) <span class="comment">#web高级保护</span></span><br><span class="line">    sheet.write(n,<span class="number">32</span>,str(command_excute_interception)) <span class="comment">#命令执行</span></span><br><span class="line">    sheet.write(n,<span class="number">33</span>,str(file_upload_interception)) <span class="comment">#文件上传</span></span><br><span class="line">    sheet.write(n,<span class="number">34</span>,str(java_deserialization_interception)) <span class="comment">#java反序列化</span></span><br><span class="line">    sheet.write(n,<span class="number">35</span>,str(local_file_include_interception)) <span class="comment">#本地文件包含</span></span><br><span class="line">    sheet.write(n,<span class="number">36</span>,str(php_injection_interception)) <span class="comment">#php注入</span></span><br><span class="line">    sheet.write(n,<span class="number">37</span>,str(protocol_attack_interception)) <span class="comment">#协议攻击</span></span><br><span class="line">    sheet.write(n,<span class="number">38</span>,str(remote_file_include_interception)) <span class="comment">#远程文件包含</span></span><br><span class="line">    sheet.write(n,<span class="number">39</span>,str(scanner_detect_interception)) <span class="comment">#扫描探测</span></span><br><span class="line">    sheet.write(n,<span class="number">40</span>,str(session_fixation_interception)) <span class="comment">#固定会话</span></span><br><span class="line">    sheet.write(n,<span class="number">41</span>,str(sql_injection_interception)) <span class="comment">#sql注入</span></span><br><span class="line">    sheet.write(n,<span class="number">42</span>,str(xss_injection_interception)) <span class="comment">#XSS</span></span><br><span class="line"></span><br><span class="line">    n=n+<span class="number">1</span></span><br><span class="line"></span><br><span class="line">book.save(<span class="string">'XX.xls'</span>)</span><br></pre></td></tr></table></figure><p>分析：主要思路就是，把大字典转换为小字典，遍历小字典，获取自己所需的键值。<br>注意：</p><ol><li>字典不存在的情况，需要设置空字典<code>{}</code>，否则报错。</li><li>键不存在的情况，需要设置空值<code>&quot;&quot;</code>，否则报错。<br>主要用到的知识也很简单，–怎么获取字典键值–，此处采取了较为简洁的方式：<code>value=dict[&#39;key&#39;]</code>。<br>需要重点注意的就是数据类型，是字典还是列表？最终存入excel的数据必须是字符类型。<code>str()</code>是做数据类型强制转换，转换为字符。</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;工作中需要读取复杂json，并取需要的值写入excel，整理配置。&lt;/p&gt;
    
    </summary>
    
    
      <category term="python脚本" scheme="https://dana5haw.com/categories/python%E8%84%9A%E6%9C%AC/"/>
    
    
      <category term="python" scheme="https://dana5haw.com/tags/python/"/>
    
      <category term="读取复杂json" scheme="https://dana5haw.com/tags/%E8%AF%BB%E5%8F%96%E5%A4%8D%E6%9D%82json/"/>
    
      <category term="取值" scheme="https://dana5haw.com/tags/%E5%8F%96%E5%80%BC/"/>
    
  </entry>
  
  <entry>
    <title>将多个文件内容合并为一个excel，一行写一个文件</title>
    <link href="https://dana5haw.com/posts/file-to-excel-python.html"/>
    <id>https://dana5haw.com/posts/file-to-excel-python.html</id>
    <published>2020-06-17T13:55:03.000Z</published>
    <updated>2020-06-27T14:12:28.888Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>整理NG配置文件，每次都去服务器上面去查，很不方便，有时候因为网络限制根本登录不到服务器。于是，就想把服务器的NG配置文件拷贝到本地，集中整理为一张表，就看这张表查各个系统的具体配置。</p><a id="more"></a><h2 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8-*- #</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> xlwt</span><br><span class="line"></span><br><span class="line">book = xlwt.Workbook(encoding=<span class="string">'GBK'</span>,style_compression=<span class="number">0</span>)</span><br><span class="line">sheet = book.add_sheet(<span class="string">'XX'</span>, cell_overwrite_ok=<span class="literal">True</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">0</span>, <span class="string">'所属NG'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">1</span>, <span class="string">'配置文件名称'</span>)</span><br><span class="line">sheet.write(<span class="number">0</span>, <span class="number">2</span>, <span class="string">'配置文件内容'</span>) </span><br><span class="line"></span><br><span class="line">path = <span class="string">r"D:\XX-conf"</span> <span class="comment">#文件夹目录</span></span><br><span class="line">files= os.listdir(path) <span class="comment">#得到文件夹下的所有文件名称</span></span><br><span class="line"></span><br><span class="line">a=<span class="number">1</span></span><br><span class="line">q=<span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.isdir(file): <span class="comment">#判断是否是文件夹，不是文件夹才打开</span></span><br><span class="line">        fd = open(path+<span class="string">"/"</span>+file); <span class="comment">#打开文件</span></span><br><span class="line">        lines = fd.readlines()</span><br><span class="line">        string = <span class="string">""</span></span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">            string += line <span class="comment">#配置文件内容</span></span><br><span class="line">        sheet.write(a, <span class="number">0</span>, <span class="string">'XX'</span>)</span><br><span class="line">        sheet.write(a, <span class="number">2</span>, string)</span><br><span class="line">        a = a+<span class="number">1</span></span><br><span class="line">    sheet.write(q,<span class="number">1</span>,file)  </span><br><span class="line">    q=q+<span class="number">1</span> </span><br><span class="line">book.save(<span class="string">'XX-conf.xls'</span>)</span><br></pre></td></tr></table></figure><h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/06/17/imaged721828f323959f2.png" alt="imaged721828f323959f2.png"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;整理NG配置文件，每次都去服务器上面去查，很不方便，有时候因为网络限制根本登录不到服务器。于是，就想把服务器的NG配置文件拷贝到本地，集中整理为一张表，就看这张表查各个系统的具体配置。&lt;/p&gt;
    
    </summary>
    
    
      <category term="python脚本" scheme="https://dana5haw.com/categories/python%E8%84%9A%E6%9C%AC/"/>
    
    
      <category term="excel" scheme="https://dana5haw.com/tags/excel/"/>
    
      <category term="python" scheme="https://dana5haw.com/tags/python/"/>
    
      <category term="文件转excel" scheme="https://dana5haw.com/tags/%E6%96%87%E4%BB%B6%E8%BD%ACexcel/"/>
    
  </entry>
  
  <entry>
    <title>正则表达式-不匹配特定字符串开头的url</title>
    <link href="https://dana5haw.com/posts/Reg-Exclude-url.html"/>
    <id>https://dana5haw.com/posts/Reg-Exclude-url.html</id>
    <published>2020-06-17T13:38:42.000Z</published>
    <updated>2020-06-27T14:12:28.954Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>一直都有个需求，写出一个正则表达式，不匹配以某个目录开头的url，主要是工作中需要用到，以前不会写这个表达式，就干脆没有做相关配置，这回终于找到方法了。</p><a id="more"></a><h2 id="怎么写正则"><a href="#怎么写正则" class="headerlink" title="怎么写正则"></a>怎么写正则</h2><p><code>?!</code>这叫做<code>前瞻匹配</code>，意思就是以啥啥啥开头。<br>我需要匹配不以某个目录开头的url，这样写：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?i)^(?!&#x2F;plugin).*?$</span><br></pre></td></tr></table></figure><p>这个表达式意思就是：不匹配以<code>/plugin</code>开头的url。<br>之前我们还写过排除匹配特定url的正则表达式，这样写：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?i)^(?!&#x2F;test.html($|\?.+))</span><br></pre></td></tr></table></figure><p>这个表达式意思就是：不匹配<code>/test.html</code>这个url。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>参考了<a href="https://www.cnblogs.com/asfeixue/p/lookahead.html" target="_blank" rel="noopener">这篇文章</a>，OK，这种正则表达式的官方名字叫<code>否定前瞻</code>。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;一直都有个需求，写出一个正则表达式，不匹配以某个目录开头的url，主要是工作中需要用到，以前不会写这个表达式，就干脆没有做相关配置，这回终于找到方法了。&lt;/p&gt;
    
    </summary>
    
    
      <category term="正则表达式" scheme="https://dana5haw.com/categories/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
    
      <category term="正则表达式" scheme="https://dana5haw.com/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
      <category term="前瞻匹配" scheme="https://dana5haw.com/tags/%E5%89%8D%E7%9E%BB%E5%8C%B9%E9%85%8D/"/>
    
  </entry>
  
  <entry>
    <title>hexo突然无法deploy报错connection timeout</title>
    <link href="https://dana5haw.com/posts/hexo-deploy-failed-connection-timeout.html"/>
    <id>https://dana5haw.com/posts/hexo-deploy-failed-connection-timeout.html</id>
    <published>2020-06-17T13:24:55.000Z</published>
    <updated>2020-06-27T14:12:28.374Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>不晓得为啥，hexo突然无法deploy本地的文章，头疼……搁置了几天，今天终于腾出精力来google。</p><a id="more"></a><h2 id="问题现象"><a href="#问题现象" class="headerlink" title="问题现象"></a>问题现象</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/06/17/image411af13ac4a6e986.png" alt="image411af13ac4a6e986.png"></p><h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>因为电脑本地的ssh目录缺失了config文件。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/06/17/imageae93b428e4304472.png" alt="imageae93b428e4304472.png"></p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>自己创建缺失的config文件：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/06/17/imageae93b428e4304472.png" alt="imageae93b428e4304472.png"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">User XXX@gmail.com</span><br><span class="line">Hostname ssh.github.com</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~&#x2F;.ssh&#x2F;id_rsa</span><br><span class="line">Port 443</span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>参考了<a href="https://blog.csdn.net/MBuger/article/details/70226712" target="_blank" rel="noopener">这篇文章</a></p><hr><p>真的是，不晓得为啥就出现这样的问题，本来还以为是github被墙了，看来是我想复杂了。但是话说，我的config文件是咋缺失的……</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;不晓得为啥，hexo突然无法deploy本地的文章，头疼……搁置了几天，今天终于腾出精力来google。&lt;/p&gt;
    
    </summary>
    
    
      <category term="hexo博客" scheme="https://dana5haw.com/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="troubleshooting" scheme="https://dana5haw.com/categories/troubleshooting/"/>
    
    
      <category term="hexo" scheme="https://dana5haw.com/tags/hexo/"/>
    
      <category term="connection timeout" scheme="https://dana5haw.com/tags/connection-timeout/"/>
    
  </entry>
  
  <entry>
    <title>将excel每行内容导出为单个文件并以特定列的内容作为文件名</title>
    <link href="https://dana5haw.com/posts/excel-vba-convert.html"/>
    <id>https://dana5haw.com/posts/excel-vba-convert.html</id>
    <published>2020-06-16T05:31:07.000Z</published>
    <updated>2020-06-27T14:12:28.882Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>为了提高效率，我需要把excel每行的数据转存为单个文件。google告诉我可使用vba代码实现，就找到了一个简单方法，一个表转多个文件，一秒搞定。</p><a id="more"></a><h2 id="vba代码"><a href="#vba代码" class="headerlink" title="vba代码"></a>vba代码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Sub t()</span><br><span class="line">For i &#x3D; 2 To 204 </span><br><span class="line">Open &quot;d:\&quot; &amp; Cells(i, 2) For Append As #1</span><br><span class="line">Print #1, Cells(i, 3)</span><br><span class="line">Close #1</span><br><span class="line">Next</span><br><span class="line">End Sub</span><br></pre></td></tr></table></figure><p>代码解释：<br>1、将第2行到第204行的数据转存为单个文件<br>2、打开D盘，每行内容以第二列数据作为文件名<br>3、打印第三列数据作为文件内容</p><h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p><a href="https://v2ray.dana5haw.com:8008/image/ZzoT" target="_blank" rel="noopener"><img src="https://v2ray.dana5haw.com:8008/images/2020/06/16/image.png" alt="image.png"></a><br><img src="https://v2ray.dana5haw.com:8008/images/2020/06/16/image318502281bf2ce85.png" alt="image318502281bf2ce85.png"></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>参考<a href="https://zhidao.baidu.com/question/1860550641232376387.html?qbpn=1_1&fr=newsearchlist&word=%E5%A6%82%E4%BD%95%E6%8A%8Aexcel%E6%AF%8F%E4%B8%80%E8%A1%8C%E5%90%84%E5%AF%BC%E5%87%BA%E4%B8%BA%E4%B8%80%E4%B8%AAtxt%E6%96%87%E6%9C%AC%2C%E5%B9%B6%E4%B8%94%E4%BB%A5%E5%AF%B9%E5%BA%94%E6%AF%8F%E8%A1%8C%E7%9A%84%E6%A0%87%E9%A2%98%E5%91%BD%E5%90%8D&aup=1" target="_blank" rel="noopener">这篇文章</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;为了提高效率，我需要把excel每行的数据转存为单个文件。google告诉我可使用vba代码实现，就找到了一个简单方法，一个表转多个文件，一秒搞定。&lt;/p&gt;
    
    </summary>
    
    
      <category term="excel" scheme="https://dana5haw.com/categories/excel/"/>
    
      <category term="vba编程" scheme="https://dana5haw.com/categories/vba%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="excel" scheme="https://dana5haw.com/tags/excel/"/>
    
      <category term="vba代码" scheme="https://dana5haw.com/tags/vba%E4%BB%A3%E7%A0%81/"/>
    
      <category term="excel每行数据转存为单个文件" scheme="https://dana5haw.com/tags/excel%E6%AF%8F%E8%A1%8C%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%AD%98%E4%B8%BA%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>linux批量修改文件后缀</title>
    <link href="https://dana5haw.com/posts/linux-modify-file-suffix.html"/>
    <id>https://dana5haw.com/posts/linux-modify-file-suffix.html</id>
    <published>2020-06-13T10:52:37.000Z</published>
    <updated>2020-06-27T14:12:28.413Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>批量修改目录下面的所有文件名后缀。</p><a id="more"></a><h2 id="怎么做"><a href="#怎么做" class="headerlink" title="怎么做"></a>怎么做</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename  .txt  .bk *</span><br></pre></td></tr></table></figure><p>将txt后缀改为bk后缀。</p><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p><a href="https://blog.mimvp.com/article/15218.html" target="_blank" rel="noopener">参考文章</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;批量修改目录下面的所有文件名后缀。&lt;/p&gt;
    
    </summary>
    
    
      <category term="shell" scheme="https://dana5haw.com/categories/shell/"/>
    
    
      <category term="linux shell" scheme="https://dana5haw.com/tags/linux-shell/"/>
    
      <category term="批量修改文件后缀" scheme="https://dana5haw.com/tags/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E5%90%8E%E7%BC%80/"/>
    
  </entry>
  
  <entry>
    <title>爱情不过是场权谋游戏</title>
    <link href="https://dana5haw.com/posts/love-game.html"/>
    <id>https://dana5haw.com/posts/love-game.html</id>
    <published>2020-05-26T05:12:35.000Z</published>
    <updated>2020-06-27T14:12:28.982Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>前言不搭后语。</p><a id="more"></a><h2 id="后语"><a href="#后语" class="headerlink" title="后语"></a>后语</h2><p>爱情不过是场权谋游戏，男男女女在这场游戏里博弈。长大以前，我爱你就足够。人长大了，就学会计较得失。你爱我吗？你有我爱你那么多吗？你愿意为我放弃其他人或事吗？这些问题成了各自心中的一杆秤。大家开始不自觉地开始计算投入产出比，就像世界上的任何一种投资那样。这样的变化不是不对，只是爱情比玻璃还脆弱，比温室里的花朵还经不起风吹雨打。没有最爱，没有更爱，只是错爱。我很善变，善变到自己都不想承认。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;前言不搭后语。&lt;/p&gt;
    
    </summary>
    
    
      <category term="思考" scheme="https://dana5haw.com/categories/%E6%80%9D%E8%80%83/"/>
    
    
      <category term="爱情" scheme="https://dana5haw.com/tags/%E7%88%B1%E6%83%85/"/>
    
  </entry>
  
</feed>
