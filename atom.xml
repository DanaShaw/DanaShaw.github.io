<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Dana Shaw&#39;s blog</title>
  
  <subtitle>为了去往别处</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://dana5haw.com/"/>
  <updated>2021-08-05T12:16:36.209Z</updated>
  <id>https://dana5haw.com/</id>
  
  <author>
    <name>Dana Shaw</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>404</title>
    <link href="https://dana5haw.com/posts/ZH-CN/undefined.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/undefined.html</id>
    <published>2021-08-05T12:00:52.000Z</published>
    <updated>2021-08-05T12:16:36.209Z</updated>
    
    <content type="html"><![CDATA[<!DOCTYPE html><html><head><link rel="alternate" href="/atom.xml" title="Dana Shaw's blog" type="application/atom+xml"></head><body><script type="text/javascript" src="http://www.qq.com/404/search_children.js" charset="utf-8" homePageUrl="https://dana5haw.com" homePageName="返回主页"></script></body></html>]]></content>
    
    <summary type="html">
    
      
      
        &lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;link rel=&quot;alternate&quot; href=&quot;/atom.xml&quot; title=&quot;Dana Shaw&#39;s blog&quot; type=&quot;application/atom+xml&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;s
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>学习谷歌SEO（一）</title>
    <link href="https://dana5haw.com/posts/ZH-CN/undefined.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/undefined.html</id>
    <published>2021-08-05T11:53:38.000Z</published>
    <updated>2021-08-05T11:53:38.523Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>我的微信公众号马上两岁啦</title>
    <link href="https://dana5haw.com/posts/ZH-CN/welcome-to-my-wechat-public-account.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/welcome-to-my-wechat-public-account.html</id>
    <published>2021-08-03T03:51:06.000Z</published>
    <updated>2021-08-03T04:16:26.169Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>转眼我的微信公众号也快满两岁了，专注于互联网、英语、创业等领域，欢迎关注~~</p><a id="more"></a><h2 id="开门见山"><a href="#开门见山" class="headerlink" title="开门见山"></a>开门见山</h2><p>我的微信公众号：“肖坤稼”，以自己名字命名没有其他意思，就是想打造个人IP，毕竟从小都想成名^.^<br>二维码在此，请扫描吧，关注之后可以在本文留下一个愿望，博主保证善良的你一定会愿望成真的！！<br><img src="https://v2ray.dana5haw.com:8008/images/2021/08/03/qrcode_for_gh_9b7280eb1edc_258.jpg" alt="qrcode_for_gh_9b7280eb1edc_258.jpg"></p><h2 id="初衷"><a href="#初衷" class="headerlink" title="初衷"></a>初衷</h2><p>刚开始申请公众号纯属猎奇，因为刚关掉QQ空间，总想再找个没人能看到的角落发发牢骚，伤春悲秋。最初写的文章也确实都是些矫情文字。</p><h2 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h2><p>目前公众号定位：互联网+英语。定期推送经济学人Espresso最新原版新闻以拓展国际视野，并和大家一起积累好词佳句。由于博主同时是个互联网爱好者，对IT、建站、网络安全都有所涉猎，不定期也会分享相关教程（教程一定是自己亲自实践过的）以及学习资料，希望可以和大家一起共同进步，成为更好的自己。<br>当然个人也有私心，希望能够通过这种方式监督自己定期更文。</p><h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p>感谢你看到这里，如果你也对IT、英语感兴趣，关注我，一定能给你不一样的体验。<br>再次亮出二维码，点关注的都是活菩萨。<br><img src="https://v2ray.dana5haw.com:8008/images/2021/08/03/qrcode_for_gh_9b7280eb1edc_258.jpg" alt="qrcode_for_gh_9b7280eb1edc_258.jpg"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;转眼我的微信公众号也快满两岁了，专注于互联网、英语、创业等领域，欢迎关注~~&lt;/p&gt;
    
    </summary>
    
    
      <category term="运营" scheme="https://dana5haw.com/categories/%E8%BF%90%E8%90%A5/"/>
    
    
      <category term="微信公众号" scheme="https://dana5haw.com/tags/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7/"/>
    
      <category term="庆祝" scheme="https://dana5haw.com/tags/%E5%BA%86%E7%A5%9D/"/>
    
  </entry>
  
  <entry>
    <title>挑战万岁</title>
    <link href="https://dana5haw.com/posts/ZH-CN/challenge-i-am-coming.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/challenge-i-am-coming.html</id>
    <published>2020-12-22T13:46:27.000Z</published>
    <updated>2020-12-22T13:59:48.105Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>激起上进心的源头，其实是虚荣心。</p><a id="more"></a><h2 id="google引发的一场内心戏"><a href="#google引发的一场内心戏" class="headerlink" title="google引发的一场内心戏"></a>google引发的一场内心戏</h2><p>Google是我最喜欢的搜索引擎，然而今天有一道搜索题，要求通过google搜索得出“基于P/V相等换算”的英语译文。然而同事给了他的答案，并且说我的搜索结果肯定不是最优解，好的，成功燃起了我的胜负欲。<br>于是，下班回家第一件事，就是打开google，想办法得出更好的结果以证明他的结果也不是最优解。哈哈，感觉有点小心眼。<br>借鉴这位同事的思路，另辟一条思路，最后自认为我的结果非常具有普遍性和可用性，个人认为比他的结果更好。然后我就兴高采烈地把这些写下来，发给他了。还没收到回复，但是我就是有一种胜利的喜悦感。<br>有时候就是这么好胜。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;激起上进心的源头，其实是虚荣心。&lt;/p&gt;
    
    </summary>
    
    
      <category term="personal" scheme="https://dana5haw.com/categories/personal/"/>
    
    
      <category term="personal" scheme="https://dana5haw.com/tags/personal/"/>
    
  </entry>
  
  <entry>
    <title>怎么制作word模板</title>
    <link href="https://dana5haw.com/posts/ZH-CN/word-template.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/word-template.html</id>
    <published>2020-12-22T12:44:54.000Z</published>
    <updated>2020-12-22T13:45:51.653Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文记录制作word模板的方法以备忘。</p><a id="more"></a><h2 id="制作模板"><a href="#制作模板" class="headerlink" title="制作模板"></a>制作模板</h2><p>按照自己的需求，列出各级标题及意义，并设置好自己需要的格式。</p><h3 id="设置各级标题格式"><a href="#设置各级标题格式" class="headerlink" title="设置各级标题格式"></a>设置各级标题格式</h3><p>各级标题格式，主要包括字体、字号。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/22/image.png" alt="image.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/22/imagebf4ac89e35acc2de.png" alt="imagebf4ac89e35acc2de.png"></p><h3 id="设置多级列表"><a href="#设置多级列表" class="headerlink" title="设置多级列表"></a>设置多级列表</h3><p>为了使各级标题自动标号，我们设置多级列表。以下举例一级标题到三级标题的列表设置。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/22/image716f63755315f9b5.png" alt="image716f63755315f9b5.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/22/imagea96c791e0f0b6dd4.png" alt="imagea96c791e0f0b6dd4.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/22/image8689cc40083505e9.png" alt="image8689cc40083505e9.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/22/image71f80c6cedaf7713.png" alt="image71f80c6cedaf7713.png"></p><h3 id="设置正文格式"><a href="#设置正文格式" class="headerlink" title="设置正文格式"></a>设置正文格式</h3><p>提醒一下，设置字体格式时，需要设置两次。选择“中文”设置一次，选择“西文”设置一次。注意看最终的字体格式信息。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/22/imagea26468698c635c4c.png" alt="imagea26468698c635c4c.png"></p><h2 id="另存为模板"><a href="#另存为模板" class="headerlink" title="另存为模板"></a>另存为模板</h2><p>以上是简单模板，另存为dotx格式，就自动存到了word自定义模板库。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/22/image789c8eee1b129e50.png" alt="image789c8eee1b129e50.png"></p><h2 id="使用word模板"><a href="#使用word模板" class="headerlink" title="使用word模板"></a>使用word模板</h2><p>在创建新文档时，选择“个人”，即可看到自定义的模板，点击模板即可根据模板创建文档。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/22/image6c5758c07eb3cbdb.png" alt="image6c5758c07eb3cbdb.png"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;本文记录制作word模板的方法以备忘。&lt;/p&gt;
    
    </summary>
    
    
      <category term="office" scheme="https://dana5haw.com/categories/office/"/>
    
    
      <category term="office" scheme="https://dana5haw.com/tags/office/"/>
    
  </entry>
  
  <entry>
    <title>trados学习之翻译编辑</title>
    <link href="https://dana5haw.com/posts/ZH-CN/edit-translation.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/edit-translation.html</id>
    <published>2020-12-01T13:25:41.000Z</published>
    <updated>2020-12-01T14:28:06.262Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文记录trados练习过程，第二步：翻译编辑。</p><a id="more"></a><h2 id="整体步骤"><a href="#整体步骤" class="headerlink" title="整体步骤"></a>整体步骤</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/51f3c53a2cfcdccd3822a330e89a8653.png" alt="51f3c53a2cfcdccd3822a330e89a8653.png"></p><h2 id="预览窗口"><a href="#预览窗口" class="headerlink" title="预览窗口"></a>预览窗口</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/imageba9b8a63a24ca6b5.png" alt="imageba9b8a63a24ca6b5.png"></p><h2 id="翻译确认"><a href="#翻译确认" class="headerlink" title="翻译确认"></a>翻译确认</h2><p>ctrl + enter</p><h2 id="翻译记忆功能"><a href="#翻译记忆功能" class="headerlink" title="翻译记忆功能"></a>翻译记忆功能</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/imagec955ae3a8beb4480.png" alt="imagec955ae3a8beb4480.png"></p><h2 id="非译元素"><a href="#非译元素" class="headerlink" title="非译元素"></a>非译元素</h2><p>蓝色下划线为非译元素，包括数字、日期、测量单位、标记等。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image7c6b03eaa8b3b190.png" alt="image7c6b03eaa8b3b190.png"></p><h2 id="匹配率"><a href="#匹配率" class="headerlink" title="匹配率"></a>匹配率</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/imagead08097642a40615.png" alt="imagead08097642a40615.png"></p><h2 id="译文格式修改"><a href="#译文格式修改" class="headerlink" title="译文格式修改"></a>译文格式修改</h2><p>使用快捷键<code>alt + ctrl + 向下箭头</code>，可显示原文的格式，在译文应用相应格式。快捷键<code>ctrl + ,</code>也能实现同样效果<br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image714fc905799b0f61.png" alt="image714fc905799b0f61.png"><br>还可以将光标指向将应用格式的译文位置，点击原文的相应格式，即可将原文格式快速应用到译文。类似于word的格式刷功能。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image06bc82b495260292.png" alt="image06bc82b495260292.png"></p><h2 id="实时验证"><a href="#实时验证" class="headerlink" title="实时验证"></a>实时验证</h2><p>每一次按<code>ctrl + enter</code>确认译文之后，trados都会实时验证，如果译文有错误，将会显示错误提示信息。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/imagea14249bbda191368.png" alt="imagea14249bbda191368.png"></p><h2 id="标记"><a href="#标记" class="headerlink" title="标记"></a>标记</h2><p>标记是紫色，表示原文的格式信息，如果原文的标记过多，可以先把原文复制到译文，再进行翻译。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/imagec74facec235c3d75.png" alt="imagec74facec235c3d75.png"></p><h2 id="翻译完成后，按F8进行验证"><a href="#翻译完成后，按F8进行验证" class="headerlink" title="翻译完成后，按F8进行验证"></a>翻译完成后，按F8进行验证</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/imagedd654a7bb5bf294e.png" alt="imagedd654a7bb5bf294e.png"></p><h2 id="按-ctrl-S-保存文件"><a href="#按-ctrl-S-保存文件" class="headerlink" title="按 ctrl + S 保存文件"></a>按 ctrl + S 保存文件</h2><h2 id="生成目标翻译"><a href="#生成目标翻译" class="headerlink" title="生成目标翻译"></a>生成目标翻译</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image146748b8eb41f83f.png" alt="image146748b8eb41f83f.png"><br>生成的译文在zh-CN文件夹<br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/imagecb0524e0a769c4a3.png" alt="imagecb0524e0a769c4a3.png"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;本文记录trados练习过程，第二步：翻译编辑。&lt;/p&gt;
    
    </summary>
    
    
      <category term="trados" scheme="https://dana5haw.com/categories/trados/"/>
    
    
      <category term="trados" scheme="https://dana5haw.com/tags/trados/"/>
    
  </entry>
  
  <entry>
    <title>trados学习之创建翻译项目</title>
    <link href="https://dana5haw.com/posts/ZH-CN/create-translation-project.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/create-translation-project.html</id>
    <published>2020-12-01T12:13:43.000Z</published>
    <updated>2020-12-01T13:01:17.815Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文记录trados练习过程，第一步：创建翻译项目。</p><a id="more"></a><h2 id="整体步骤"><a href="#整体步骤" class="headerlink" title="整体步骤"></a>整体步骤</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/3accb7abaa8577dc4d27dda45ae65fcc.png" alt="3accb7abaa8577dc4d27dda45ae65fcc.png"></p><h2 id="创建项目，添加待翻译文件"><a href="#创建项目，添加待翻译文件" class="headerlink" title="创建项目，添加待翻译文件"></a>创建项目，添加待翻译文件</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image.png" alt="image.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image3402c1c7f47ef04e.png" alt="image3402c1c7f47ef04e.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/imaged5b574ebdd9a0cfc.png" alt="imaged5b574ebdd9a0cfc.png"></p><h2 id="创建翻译记忆库"><a href="#创建翻译记忆库" class="headerlink" title="创建翻译记忆库"></a>创建翻译记忆库</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image8d96ecae2f99fe21.png" alt="image8d96ecae2f99fe21.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image3267f627ea678365.png" alt="image3267f627ea678365.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/imageea6c807c89bd5d50.png" alt="imageea6c807c89bd5d50.png"></p><h2 id="multiterm创建术语库"><a href="#multiterm创建术语库" class="headerlink" title="multiterm创建术语库"></a>multiterm创建术语库</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/imageb11453131878020c.png" alt="imageb11453131878020c.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/imagebbeed61da04c0f51.png" alt="imagebbeed61da04c0f51.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image7c1376f89f84cf33.png" alt="image7c1376f89f84cf33.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image4d970f2c71a0d367.png" alt="image4d970f2c71a0d367.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image3d489099da083a2a.png" alt="image3d489099da083a2a.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image1c54117a08bff337.png" alt="image1c54117a08bff337.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/imagec7a7127bbb2b3312.png" alt="imagec7a7127bbb2b3312.png"></p><h2 id="studio添加刚刚创建的术语库"><a href="#studio添加刚刚创建的术语库" class="headerlink" title="studio添加刚刚创建的术语库"></a>studio添加刚刚创建的术语库</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image9eedfa53b48f08d2.png" alt="image9eedfa53b48f08d2.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image5198e773bf220d00.png" alt="image5198e773bf220d00.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image55fb53753e6e7fd8.png" alt="image55fb53753e6e7fd8.png"></p><h2 id="文件视图勾选包含子文件夹"><a href="#文件视图勾选包含子文件夹" class="headerlink" title="文件视图勾选包含子文件夹"></a>文件视图勾选包含子文件夹</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/imageb63e3cc51338718a.png" alt="imageb63e3cc51338718a.png"></p><h2 id="测试待翻译文件是否能正常输出"><a href="#测试待翻译文件是否能正常输出" class="headerlink" title="测试待翻译文件是否能正常输出"></a>测试待翻译文件是否能正常输出</h2><p><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image497b06682e36d738.png" alt="image497b06682e36d738.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/12/01/image2e39a94442831436.png" alt="image2e39a94442831436.png"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;本文记录trados练习过程，第一步：创建翻译项目。&lt;/p&gt;
    
    </summary>
    
    
      <category term="trados" scheme="https://dana5haw.com/categories/trados/"/>
    
    
      <category term="trados" scheme="https://dana5haw.com/tags/trados/"/>
    
  </entry>
  
  <entry>
    <title>2021雅思计划</title>
    <link href="https://dana5haw.com/posts/ZH-CN/ielts-plan.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/ielts-plan.html</id>
    <published>2020-11-29T09:54:49.000Z</published>
    <updated>2020-11-29T10:03:05.339Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>2021年12月考雅思，目标分数7。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/11/29/image.png" alt="image.png"></p><a id="more"></a><h2 id="口语"><a href="#口语" class="headerlink" title="口语"></a>口语</h2><ul><li>争取在工作中接触欧美客户，在会议中锻炼口语</li><li>每周练习一个话题</li></ul><h2 id="听力"><a href="#听力" class="headerlink" title="听力"></a>听力</h2><ul><li>一周一篇雅思真题</li></ul><h2 id="阅读"><a href="#阅读" class="headerlink" title="阅读"></a>阅读</h2><ul><li>一周两篇雅思真题<ul><li>50*2=100</li><li>坚持做满100篇</li></ul></li><li>参加或组建经济学人阅读计划<ul><li>每周至少一篇精读</li></ul></li></ul><h2 id="写作"><a href="#写作" class="headerlink" title="写作"></a>写作</h2><ul><li>一周背诵一篇范文，并脱稿录制youtube</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;2021年12月考雅思，目标分数7。&lt;br&gt;&lt;img src=&quot;https://v2ray.dana5haw.com:8008/images/2020/11/29/image.png&quot; alt=&quot;image.png&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="plan" scheme="https://dana5haw.com/categories/plan/"/>
    
    
      <category term="plan" scheme="https://dana5haw.com/tags/plan/"/>
    
  </entry>
  
  <entry>
    <title>mysql查询练习</title>
    <link href="https://dana5haw.com/posts/ZH-CN/mysql_query.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/mysql_query.html</id>
    <published>2020-11-03T15:12:32.000Z</published>
    <updated>2020-11-03T16:08:07.082Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>关于学习Mysql的学习想法已经有一年多了，然而现在还是只会简单的<code>select * from database where id =1</code>这种查询语句，很惭愧。很久没有写博客了，转眼间博客已经运行近1年时间。</p><a id="more"></a><h2 id="查询语法"><a href="#查询语法" class="headerlink" title="查询语法"></a>查询语法</h2><ol><li>基础语法</li></ol><ul><li><p>创建数据库</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> <span class="string">`my_data`</span> <span class="keyword">charset</span>=utf8;</span><br></pre></td></tr></table></figure></li><li><p>使用一个数据库</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> my_data;</span><br></pre></td></tr></table></figure></li><li><p>显示当前数据库是哪一个</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">database</span>();</span><br></pre></td></tr></table></figure></li><li><p>显示当前表的创建语句</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> my_data;</span><br></pre></td></tr></table></figure></li><li><p>通过as给表起别名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> s.name, s.age <span class="keyword">from</span> students <span class="keyword">as</span> s;</span><br></pre></td></tr></table></figure></li><li><p>通过distinct消除重复行</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> s.name, s.age <span class="keyword">from</span> students <span class="keyword">as</span> s;</span><br></pre></td></tr></table></figure></li></ul><ol start="2"><li>where条件查询</li></ol><ul><li>比较运算符<ul><li><code>&gt;</code>,<code>&lt;</code>,<code>=</code>,<code>!=</code>,<code>&lt;&gt;</code>,<code>&gt;=</code>,<code>&lt;=</code></li></ul></li><li>逻辑运算符<ul><li>and</li><li>or</li><li>not</li></ul></li><li>模糊查询<ul><li>like<ul><li><code>%</code>替换1个或多个字符</li><li><code>_</code>替换1个字符</li></ul></li><li>rlike<ul><li>正则匹配</li></ul></li></ul></li><li>范围查询<ul><li>in</li><li>not in</li><li>between and</li><li>not between and</li></ul></li><li>空判断<ul><li>is null</li><li>is not null</li></ul></li></ul><ol start="3"><li>排序</li></ol><ul><li>升序，asc（默认）</li><li>降序，desc</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;关于学习Mysql的学习想法已经有一年多了，然而现在还是只会简单的&lt;code&gt;select * from database where id =1&lt;/code&gt;这种查询语句，很惭愧。很久没有写博客了，转眼间博客已经运行近1年时间。&lt;/p&gt;
    
    </summary>
    
    
      <category term="mysql" scheme="https://dana5haw.com/categories/mysql/"/>
    
    
      <category term="mysql" scheme="https://dana5haw.com/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>RHCE练习</title>
    <link href="https://dana5haw.com/posts/ZH-CN/RHCE-practice.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/RHCE-practice.html</id>
    <published>2020-07-18T02:41:16.000Z</published>
    <updated>2020-07-19T05:25:28.872Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>RHCE练习题目。</p><a id="more"></a><h2 id="考试环境介绍"><a href="#考试环境介绍" class="headerlink" title="考试环境介绍"></a>考试环境介绍</h2><ul><li>虚拟机设置：取消勾选cpu的计数器<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image.png" alt="image.png"></li><li>虚拟机开启之后，里面还有3台虚拟机。<br>server0命名为System1，IP地址是172.25.0.11。密码：root/redhat<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image4f4761ce94367c9f.png" alt="image4f4761ce94367c9f.png"><br>desktop0命名为System2，IP地址是172.25.0.10。密码：root/redhat<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imagebec6c8987836d9cd.png" alt="imagebec6c8987836d9cd.png"><br>classroom默认开机的，保持开机状态即可。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imagee9a5f0f62c15d3f5.png" alt="imagee9a5f0f62c15d3f5.png"></li><li>可在虚拟机里面ssh到System1和System2<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image0ddb884174e8b02c.png" alt="image0ddb884174e8b02c.png"></li></ul><h2 id="配置SELINUX"><a href="#配置SELINUX" class="headerlink" title="配置SELINUX"></a>配置SELINUX</h2><p>检查一下System1和System2的selinux配置文件/etc/selinux/config<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imageaf66c8730ae7b650.png" alt="imageaf66c8730ae7b650.png"></p><h2 id="配置SSH访问"><a href="#配置SSH访问" class="headerlink" title="配置SSH访问"></a>配置SSH访问</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">用户能够从域 domain1.example.com 内的客户端通过SSH远程访问您的两个虚拟机系统</span><br><span class="line">在域 my133t.org 内的客户端不能访问您的两个虚拟机系统</span><br></pre></td></tr></table></figure><p>对System1和System2进行相同的操作：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;hosts.allow</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imagea9d4784637f1e499.png" alt="imagea9d4784637f1e499.png"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;hosts.deny #这里是假设my133t.org解析出的IP是172.25.0.30</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image00650e105de0ff5f.png" alt="image00650e105de0ff5f.png"></p><h2 id="自定义用户环境"><a href="#自定义用户环境" class="headerlink" title="自定义用户环境"></a>自定义用户环境</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在系统 system1 和 system2上创建自定义命令名为 qstat 此自定义命令将执行以下命令: &#x2F;bin&#x2F;ps -Ao pid,tt,user,fname,rsz此命令对系统中所有用户有效。</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imageaab59b005930d126.png" alt="imageaab59b005930d126.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image669be386b36ccdbc.png" alt="image669be386b36ccdbc.png"></p><h2 id="配置端口转发"><a href="#配置端口转发" class="headerlink" title="配置端口转发"></a>配置端口转发</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在系统system1配置端口转发，要求如下：在 172.24.1.0&#x2F;24 网络中的系统，访问 system1 的本地端口 5423 将被转发到80 此设置必须永久有效</span><br></pre></td></tr></table></figure><p>进入System1的虚拟机进行操作：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image19ceaa0d30f65dc8.png" alt="image19ceaa0d30f65dc8.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image0b98931199991896.png" alt="image0b98931199991896.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image84bf0aad57b4e869.png" alt="image84bf0aad57b4e869.png"></p><h2 id="配置链路聚合"><a href="#配置链路聚合" class="headerlink" title="配置链路聚合"></a>配置链路聚合</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">在 system1.domain1.example.com 和 system2.domain1.example.com 之间按以下要求配置一个链路：</span><br><span class="line">此链路使用接口 eth1 和 eth2</span><br><span class="line">此链路在一个接口失效时仍然能工作</span><br><span class="line">此链路在 system1 使用下面的地址 172.16.1.25&#x2F;255.255.255.0</span><br><span class="line">此链路在 system2 使用下面的地址 172.16.1.35&#x2F;255.255.255.0</span><br><span class="line">此链路在系统重启之后依然保持正常状态</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image000f5adc346e4337.png" alt="image000f5adc346e4337.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imagebe58dd15bdf40f10.png" alt="imagebe58dd15bdf40f10.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image2f5573675d67c079.png" alt="image2f5573675d67c079.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image264ee7fd99770ea1.png" alt="image264ee7fd99770ea1.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image0a649aede2c681c6.png" alt="image0a649aede2c681c6.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image4c0c1bfe5e9d4832.png" alt="image4c0c1bfe5e9d4832.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imaged77b38982d6d68f7.png" alt="imaged77b38982d6d68f7.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image36bda020b3430f7c.png" alt="image36bda020b3430f7c.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image64a03f86b9abed9b.png" alt="image64a03f86b9abed9b.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image4eedc2e51594acfb.png" alt="image4eedc2e51594acfb.png"></p><h2 id="配置IPv6地址"><a href="#配置IPv6地址" class="headerlink" title="配置IPv6地址"></a>配置IPv6地址</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">在您的考试系统上配置接口 eth0 使用下列IPv6地址：</span><br><span class="line">system1 上的地址应该是 2001:ac18::10a&#x2F;64</span><br><span class="line">system2 上的地址应该是 2001:ac18::114&#x2F;64</span><br><span class="line">两个系统必须能与网络 2001:ac18&#x2F;64 内的系统通信。</span><br><span class="line">地址必须在重启后依旧生效。</span><br><span class="line">两个系统必须保持当前的IPv4地址并能通信。</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image1fdb72f1b63ce165.png" alt="image1fdb72f1b63ce165.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imagebeaf0a9e85cd6d93.png" alt="imagebeaf0a9e85cd6d93.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image5c680bf959c925dc.png" alt="image5c680bf959c925dc.png"></p><h2 id="配置本地邮件服务"><a href="#配置本地邮件服务" class="headerlink" title="配置本地邮件服务"></a>配置本地邮件服务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">在系统system1 和 system2 上 配置邮件服务，满足以下要求：</span><br><span class="line">这些系统不接收外部发送来的邮件</span><br><span class="line">在这些系统上本地发送的任何邮件都会自动路由到 rhgls.domain1.example.com</span><br><span class="line">从这些系统上发送的邮件显示来自于 domain1.example.com</span><br><span class="line">您可以通过发送邮件到本地用户 &#39;dave&#39; 来测试您的配置， 系统 rhgls.domain1.example.com 已经配置把此用户的邮件转到下列URL http:&#x2F;&#x2F;rhgls.domain1.example.com&#x2F;received_mail&#x2F;1</span><br></pre></td></tr></table></figure><ol><li>编辑配置文件/etc/postfix/main.cf<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image07e7fd44d6a24ea3.png" alt="image07e7fd44d6a24ea3.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imagee1fc9bcf85a2124d.png" alt="imagee1fc9bcf85a2124d.png"></li><li>重启postfix服务并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart postfix</span><br><span class="line">systemctl enable postfix</span><br></pre></td></tr></table></figure></li><li>配置防火墙，开放smtp服务<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image8c9a3cb598fb4edf.png" alt="image8c9a3cb598fb4edf.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image664d6001a2324971.png" alt="image664d6001a2324971.png"></li><li>测试：发邮件给dave，可在 <a href="http://rhgls.domain1.example.com/received_mail/1看到邮件内容，说明服务配置成功" target="_blank" rel="noopener">http://rhgls.domain1.example.com/received_mail/1看到邮件内容，说明服务配置成功</a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mail -s &quot;test&quot; to dave@domain1.example.com</span><br></pre></td></tr></table></figure></li></ol><h2 id="通过SMB共享服务"><a href="#通过SMB共享服务" class="headerlink" title="通过SMB共享服务"></a>通过SMB共享服务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">在system1上配置SMB服务</span><br><span class="line">您的 SMB 服务器必须是 STAFF 工作组的一个成员</span><br><span class="line">共享 &#x2F;common 目录 共享名必须为 common</span><br><span class="line">只有 domain1.example.com 域内的客户端可以访问 common 共享</span><br><span class="line">common 必须是可以浏览的</span><br><span class="line">用户 andy 必须能够读取共享中的内容，如果需要的话，验证的密码是 flectrag</span><br></pre></td></tr></table></figure><ol><li>在System1安装samba、samba-client<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install samba samba-client</span><br></pre></td></tr></table></figure></li><li>创建目录/common<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir &#x2F;common</span><br></pre></td></tr></table></figure></li><li>编辑samba配置文件/etc/samba/smb.conf，重启smb、nmb并加入开机启动项<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image95cf8be4d8a6080c.png" alt="image95cf8be4d8a6080c.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image19462d25a8c61202.png" alt="image19462d25a8c61202.png"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart smb nmb</span><br><span class="line">systemctl enable smb nmb</span><br></pre></td></tr></table></figure></li><li>添加用户andy<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imageda3802c78203d681.png" alt="imageda3802c78203d681.png"></li><li>设置防火墙，放开samba和mountd服务<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image2daa3ea99677938b.png" alt="image2daa3ea99677938b.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imageeaf8760cb4a5139f.png" alt="imageeaf8760cb4a5139f.png"></li><li>在System2测试samba共享是否成功</li></ol><ul><li>安装samba-client、cifs-utils<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install samba-client cifs-utils</span><br></pre></td></tr></table></figure></li><li>测试samba共享目录<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imageac147d48fcdee0ac.png" alt="imageac147d48fcdee0ac.png"></li></ul><h2 id="配置多用户samba挂载"><a href="#配置多用户samba挂载" class="headerlink" title="配置多用户samba挂载"></a>配置多用户samba挂载</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">在system1 共享通过SMB目录 &#x2F;miscellaneous 满足以下要求：</span><br><span class="line">共享名为 miscellaneous</span><br><span class="line">共享目录 miscellaneous 只能被 domain1.example.com 域中的客户端使用</span><br><span class="line">共享目录 miscellaneous 必须可以被浏览</span><br><span class="line">用户 silene 必须能以读的方式访问此共享， 访问密码是 flectrag</span><br><span class="line">用户 akira 必须能以读写的方式访问此共享， 访问密码是 flectrag</span><br><span class="line">此共享永久挂载在 system2.domain1.example.com 上的 &#x2F;mnt&#x2F;multi 目录, 并使用用户 silene 作为认证</span><br><span class="line">任何用户可以通过用户 akira 来临时获取写的权限</span><br></pre></td></tr></table></figure><ol><li>在system1进行以下操作：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@system1 ~]# mkdir &#x2F;miscellaneous&#x2F;</span><br><span class="line">[root@system1 ~]# chmod o+w &#x2F;miscellaneous&#x2F;</span><br><span class="line">[root@system1 ~]# chcon -R -t samba_share_t &#x2F;miscellaneous&#x2F;</span><br><span class="line">[root@system1 ~]# smbpasswd -a silene </span><br><span class="line">[root@system1 ~]# smbpasswd -a akira</span><br><span class="line">[root@system1 ~]# vim &#x2F;etc&#x2F;samba&#x2F;smb.conf</span><br><span class="line">[miscellaneous]</span><br><span class="line">path&#x3D;&#x2F;miscellaneous</span><br><span class="line">hosts allow &#x3D; 172.25.0.</span><br><span class="line">browseable &#x3D; yes</span><br><span class="line">writable &#x3D; no</span><br><span class="line">write list &#x3D; akira</span><br><span class="line">[root@system1 ~]# systemctl restart smb nmb</span><br></pre></td></tr></table></figure></li><li>在system2进行以下操作：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@system2 ~]# smbclient -L &#x2F;&#x2F;172.25.0.11 -U silene</span><br><span class="line">[root@system2 ~]# yum install cifs*</span><br><span class="line">[root@system2 ~]# mkdir &#x2F;mnt&#x2F;multi</span><br><span class="line">[root@system2 ~]# vim &#x2F;etc&#x2F;fstab</span><br><span class="line">&#x2F;&#x2F;172.24.1.5&#x2F;miscellaneous     &#x2F;mnt&#x2F;multi    cifs  defaults,multiuser,username&#x3D;silene,password&#x3D;flectrag,sec&#x3D;ntlmssp 0 0 </span><br><span class="line">[root@system2 ~]# mount -a</span><br></pre></td></tr></table></figure></li></ol><h2 id="配置NFS共享"><a href="#配置NFS共享" class="headerlink" title="配置NFS共享"></a>配置NFS共享</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">在 system1 配置NFS服务，要求如下:</span><br><span class="line">以只读的方式共享目录 &#x2F;public 同时只能被 domain1.example.com 域中的系统访问</span><br><span class="line">以读写的方式共享目录 &#x2F;protected 能被 domain1.example.com 域中的系统访问</span><br><span class="line">访问 &#x2F;protected 需要通过Kerberos安全加密， 您可以使用下面URL提供的密钥 http:&#x2F;&#x2F;host.domain1.example.com&#x2F;materials&#x2F;nfs_server.keytab</span><br><span class="line">目录 &#x2F;protected 应该包含名为 confidential 拥有人为deepak 的子目录</span><br><span class="line">用户 deepak 能以读写方式访问 &#x2F;protected&#x2F;confidential</span><br><span class="line">在 system2 上挂载一个来自 system1.domain1.example.com 的NFS共享， 并符合下列要求：</span><br><span class="line">&#x2F;public 挂载在下面的目录上 &#x2F;mnt&#x2F;nfsmount</span><br><span class="line">&#x2F;protected 挂载在下面的目录上 &#x2F;mnt&#x2F;nfssecure 并使用安全的方式，密钥下载URL如下： http:&#x2F;&#x2F;host.domain1.example.com&#x2F;materials&#x2F;nfs_client.keytab</span><br><span class="line">用户 deepak 能够在 &#x2F;mnt&#x2F;nfssecure&#x2F;confidential 上创建文件</span><br><span class="line">这些文件系统在系统启动时自动挂载</span><br></pre></td></tr></table></figure><ol><li>System1执行以下操作：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@system1~]# mkdir&#x2F;public</span><br><span class="line">[root@system1~]# mkdir -p &#x2F;protected&#x2F;confidential</span><br><span class="line">[root@system1~]# chcon -R -t public_content_t &#x2F;public&#x2F;</span><br><span class="line">[root@system1~]# chcon -R -t public_content_t &#x2F;protected</span><br><span class="line">[root@system1~]# chown deepak &#x2F;protected&#x2F;confidential</span><br><span class="line">[root@system1~]# vim &#x2F;etc&#x2F;exports</span><br><span class="line">&#x2F;public 172.24.1.0&#x2F;24(ro)</span><br><span class="line">&#x2F;protected 172.24.1.0&#x2F;24(rw,sec&#x3D;krb5p)</span><br><span class="line">[root@system1~]# wget -O &#x2F;etc&#x2F;krb5.keytab http:&#x2F;&#x2F;host.domain1.example.com&#x2F;materials&#x2F;nfs_server.keytab</span><br><span class="line">[root@system1~]# vim &#x2F;etc&#x2F;sysconfig&#x2F;nfs</span><br><span class="line">RPCNFSDARGS&#x3D;&quot;-V4.2&quot;</span><br><span class="line">[root@system1~]# systemctl start nfs-server nfs-secure-server</span><br><span class="line">[root@system1~]# systemctl enable nfs-server nfs-secure-server</span><br><span class="line">[root@system1~]# firewall-cmd --permanent --add-service&#x3D;nfs</span><br><span class="line">[root@system1~]# firewall-cmd --permanent --add-service&#x3D;rpc-bind</span><br><span class="line">[root@system1~]# firewall-cmd --reload</span><br><span class="line">[root@system1~]# exportfs -r</span><br></pre></td></tr></table></figure></li><li>System2执行以下操作：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@system2 ~]# showmount -e system1 </span><br><span class="line">[root@system2 ~]# systemctl start nfs-secure</span><br><span class="line">[root@system2 ~]# systemctl enable nfs-secure </span><br><span class="line">[root@system2 ~]# wget -O &#x2F;etc&#x2F;krb5.keytab http:&#x2F;&#x2F;host.domain1.example.com&#x2F;materials&#x2F;nfs_client.keytab </span><br><span class="line">[root@system2 ~]# mkdir &#x2F;mnt&#x2F;nfsmount  </span><br><span class="line">[root@system2 ~]# mkdir &#x2F;mnt&#x2F;nfssecure </span><br><span class="line">[root@system2 ~]# vim &#x2F;etc&#x2F;fstab</span><br><span class="line">172.24.1.5:&#x2F;public &#x2F;mnt&#x2F;nfsmount nfs defaults 0 0 </span><br><span class="line">172.24.1.5:&#x2F;protected &#x2F;mnt&#x2F;nfssecure nfs defaults,sec&#x3D;krb5p,v4.2 0 0  </span><br><span class="line">[root@system2 ~]# mount -a</span><br></pre></td></tr></table></figure></li></ol><h2 id="完成web服务器"><a href="#完成web服务器" class="headerlink" title="完成web服务器"></a>完成web服务器</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">在 system1 上配置一个站点 http:&#x2F;&#x2F;system1.domain1.example.com 然后执行下述步骤：</span><br><span class="line">从 http:&#x2F;&#x2F;rhgls.domain1.example.com&#x2F;materials&#x2F;station.html 下载文件，并且将文件重命名为 index.html 不要修改此文件的内容</span><br><span class="line">将文件 index.html 拷贝到您的 web 服务器的 DocumentRoot 目录下</span><br><span class="line">来自于 domain1.example.com 域的客户端可以访问此Web服务</span><br><span class="line">来自于 my133t.org 域的客户端拒绝访问此Web服务</span><br></pre></td></tr></table></figure><ol><li>安装httpd<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install httpd</span><br></pre></td></tr></table></figure></li><li>拷贝页面内容<br>把页面内容放到/var/www/html目录，命名为index.html</li><li>编辑配置文件/etc/httpd/conf.d/httpd-vhosts.conf<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imagec767326b23840cba.png" alt="imagec767326b23840cba.png"></li><li>重启httpd服务并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart httpd</span><br><span class="line">systemctl enable httpd</span><br></pre></td></tr></table></figure></li><li>防火墙放开http、https服务<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imagef66b987039f3aa71.png" alt="imagef66b987039f3aa71.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image3828ec205f4dd934.png" alt="image3828ec205f4dd934.png"></li></ol><h2 id="配置安全web服务"><a href="#配置安全web服务" class="headerlink" title="配置安全web服务"></a>配置安全web服务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">为站点 http:&#x2F;&#x2F;system1.domain1.example.com 配置TLS加密 一个已签名证书从 http:&#x2F;&#x2F;host.domain1.example.com&#x2F;materials&#x2F;system1.crt 获取 此证书的密钥从 http:&#x2F;&#x2F;host.domain1.example.com&#x2F;materials&#x2F;system1.key 获取 此证书的签名授权信息从 http:&#x2F;&#x2F;host.domain1.example.com&#x2F;materials&#x2F;domain1.crt 获取</span><br></pre></td></tr></table></figure><ol><li>安装mod_ssl模块<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install mod_ssl</span><br></pre></td></tr></table></figure></li><li>下载证书到/var/www/html目录<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imagea64cc0133ea8c0c4.png" alt="imagea64cc0133ea8c0c4.png"></li><li>编辑配置文件/etc/httpd/conf.d/httpd-vhosts.conf，严格区分大小写<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image0d6ed2326cbe1965.png" alt="image0d6ed2326cbe1965.png"></li><li>设置selinux安全上下文<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imageb9fb17d4ac30a69b.png" alt="imageb9fb17d4ac30a69b.png"></li><li>重启httpd服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart httpd</span><br></pre></td></tr></table></figure></li><li>验证https服务是否生效<br>在浏览器输入<a href="https://server0.example.com，看到有一个小锁就说明配置成功。" target="_blank" rel="noopener">https://server0.example.com，看到有一个小锁就说明配置成功。</a><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image2ebe237b18b9efca.png" alt="image2ebe237b18b9efca.png"></li></ol><h2 id="配置虚拟主机"><a href="#配置虚拟主机" class="headerlink" title="配置虚拟主机"></a>配置虚拟主机</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">在 system1 上扩展您的 web 服务器，为站点 http:&#x2F;&#x2F;www.domain1.example.com创建一个虚拟主机，然后执行下述步骤：</span><br><span class="line">设置 DocumentRoot 为 &#x2F;var&#x2F;www&#x2F;virtual</span><br><span class="line">从 http:&#x2F;&#x2F;rhgls.domain1.example.com&#x2F;materials&#x2F;www.html</span><br><span class="line">下载文件并重命名为 index.html 不要对文件 index.html 的内容做任何修改</span><br><span class="line">将文件 index.html 放到虚拟主机的 DocumentRoot 目录下</span><br><span class="line">确保 andy 用户能够在 &#x2F;var&#x2F;www&#x2F;virtual 目录下创建文件</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image5182ca5cf1aeba61.png" alt="image5182ca5cf1aeba61.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image0579bff384d17dcf.png" alt="image0579bff384d17dcf.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image9a9085223fe5f89a.png" alt="image9a9085223fe5f89a.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image23c590d06a9cd0db.png" alt="image23c590d06a9cd0db.png"></p><h2 id="配置web内容访问"><a href="#配置web内容访问" class="headerlink" title="配置web内容访问"></a>配置web内容访问</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">在您的system1 上的 web 服务器的 DocumentRoot 目录下 创建一个名为 secret 的目录，要求如下：</span><br><span class="line">从 http:&#x2F;&#x2F;rhgls.domain1.example.com&#x2F;materials&#x2F;private.html 下载一个文件副本到这个目录，并且重命名为 index.html。</span><br><span class="line">不要对这个文件的内容做任何修改。</span><br><span class="line">从 system1 上，任何人都可以浏览 secret 的内容， 但是从其它系统不能访问这个目录的内容</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imagee501b9582f16b2bc.png" alt="imagee501b9582f16b2bc.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imageacd411f9de78ca07.png" alt="imageacd411f9de78ca07.png"><br>从System2访问<a href="http://server0.example.com/secret/被拒绝，说明配置成功。" target="_blank" rel="noopener">http://server0.example.com/secret/被拒绝，说明配置成功。</a><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image182c3f430b2bb5fa.png" alt="image182c3f430b2bb5fa.png"></p><h2 id="实现web动态内容"><a href="#实现web动态内容" class="headerlink" title="实现web动态内容"></a>实现web动态内容</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">在 system1 上配置提供动态Web内容，要求如下：</span><br><span class="line">动态内容由名为dynamic.domain1.example.com的虚拟主机提供</span><br><span class="line">虚拟主机侦听在端口 8998</span><br><span class="line">从 http:&#x2F;&#x2F;rhgls.domain1.example.com&#x2F;materials&#x2F;webapp.wsgi 下载一个脚本，然后放在适当的位置， 无论如何不要求修改此文件的内容</span><br><span class="line">客户端访问 http:&#x2F;&#x2F;dynamic.domain1.example.com:8998&#x2F; 时 应该接收到动态生成的web页面</span><br><span class="line">此 http:&#x2F;&#x2F;dynamic.domain1.example.com:8998&#x2F; 必须能被 domain1.example.com 域内的所有系统访问</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image6a14663ba8fefb4f.png" alt="image6a14663ba8fefb4f.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image9a56c7362c04a402.png" alt="image9a56c7362c04a402.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/imagefc6b980cf5f3ba65.png" alt="imagefc6b980cf5f3ba65.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/18/image8e67268d72c13cf6.png" alt="image8e67268d72c13cf6.png"></p><h2 id="创建一个脚本"><a href="#创建一个脚本" class="headerlink" title="创建一个脚本"></a>创建一个脚本</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">在system1上创建一个名为 &#x2F;root&#x2F;script 的脚本， 让其提供下列特性：</span><br><span class="line">当运行 &#x2F;root&#x2F;script foo，输出为 bar</span><br><span class="line">当运行 &#x2F;root&#x2F;script bar，输出为 foo</span><br><span class="line">当没有任何参数或者参数不是 foo 或者 bar时， 其错误输出产生以下的信息：</span><br><span class="line">&#x2F;root&#x2F;script foo|bar</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/image.png" alt="image.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/image1582bbc6feb35c68.png" alt="image1582bbc6feb35c68.png"></p><h2 id="创建一个添加用户的脚本"><a href="#创建一个添加用户的脚本" class="headerlink" title="创建一个添加用户的脚本"></a>创建一个添加用户的脚本</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">在 system1 上创建一个脚本，名为 &#x2F;root&#x2F;mkusers , 此脚本能实现为系统 system1 创建本地用户, 并且这些用户 的用户名来自一个包含用户名列表的文件。同时满足下列要求：</span><br><span class="line">此脚本要求提供一个参数，此参数就是包含用户名列表的文件</span><br><span class="line">如果没有提供参数，此脚本应该给出下面的提示信息 Usage: &#x2F;root&#x2F;mkusers userfile 然后退出并返回相应的值</span><br><span class="line">如果提供一个不存在的文件名，此脚本应该给出下面的提示信息 Input file not found 然后退出并返回相应的值</span><br><span class="line">创建的用户登录shell为 &#x2F;bin&#x2F;false</span><br><span class="line">此脚本不需要为用户设置密码</span><br><span class="line">您可以从下面的URL获取用户名列表作为测试用 http:&#x2F;&#x2F;rhgls.domain1.example.com&#x2F;materials&#x2F;userlist</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/imagec405f9affd7f78c4.png" alt="imagec405f9affd7f78c4.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/image24581bb57ab16521.png" alt="image24581bb57ab16521.png"></p><h2 id="配置iSCSI服务端"><a href="#配置iSCSI服务端" class="headerlink" title="配置iSCSI服务端"></a>配置iSCSI服务端</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">配置 system1 提供一个 iSCSI 服务 磁盘名为 iqn.2014-12.com.example.domain1:system1 ，并符合下列要求：</span><br><span class="line">服务端口为 3260</span><br><span class="line">使用 iscsi_vol 作其后端卷 其大小为 3G</span><br><span class="line">此服务只能被 system2.domain1.example.com 访问</span><br></pre></td></tr></table></figure><ol><li>安装target相关软件包<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install target*</span><br></pre></td></tr></table></figure></li><li>重启target服务并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart target</span><br><span class="line">systemctl enable target</span><br></pre></td></tr></table></figure></li><li>设置iscsi<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/imageadd063403e0f2b4d.png" alt="imageadd063403e0f2b4d.png"></li><li>重启target服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart target</span><br></pre></td></tr></table></figure></li><li>设置防火墙规则<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/imagedc79c65ec8574a1a.png" alt="imagedc79c65ec8574a1a.png"></li><li>在system2进行验证<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/imaged9bfd2ea27bd1026.png" alt="imaged9bfd2ea27bd1026.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/image50d3905f1908bbef.png" alt="image50d3905f1908bbef.png"></li></ol><h2 id="配置iSCSI客户端"><a href="#配置iSCSI客户端" class="headerlink" title="配置iSCSI客户端"></a>配置iSCSI客户端</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">配置 system2 使其能连接 在 system1 的上提供的 iqn.2014-12.com.example.domain1:system1 并符合以下要求：</span><br><span class="line">iSCSI 设备在系统启动的期间自动加载</span><br><span class="line">块设备 iSCSI 上包含一个大小为 1700 MiB 的分区，并格式化为 xfs</span><br><span class="line">此分区挂载在 &#x2F;mnt&#x2F;data 上 同时在系统启动的期间自动挂载</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/imagea5fcce3be625f683.png" alt="imagea5fcce3be625f683.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/image6e4d858f918fb95d.png" alt="image6e4d858f918fb95d.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/imagee33e34ac33d6d136.png" alt="imagee33e34ac33d6d136.png"></p><h2 id="配置一个数据库"><a href="#配置一个数据库" class="headerlink" title="配置一个数据库"></a>配置一个数据库</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">在 system1 上创建一个 MariaDB 数据库, 名为 Contacts ，并符合以下条件：</span><br><span class="line">数据库应该包含来自数据库复制的内容，复制文件的URL为 http:&#x2F;&#x2F;rhgls.domain1.example.com&#x2F;materials&#x2F;users.mdb 。</span><br><span class="line">数据库只能被 localhost 访问。</span><br><span class="line">除了root用户, 此数据库只能被用户 Luigi 查询。 此用户密码为 flectrag 。</span><br><span class="line">root 用户的密码为 flectrag ， 同时不允许空密码登录。</span><br></pre></td></tr></table></figure><ol><li>安装mariadb、mariadb-client<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum groupinstall mariadb mariadb-client</span><br></pre></td></tr></table></figure></li><li>编辑配置文件/etc/my.cnf<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/imageb871303488c5a293.png" alt="imageb871303488c5a293.png"></li><li>重启mariadb并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart mariadb</span><br><span class="line">systemctl enable mariadb</span><br></pre></td></tr></table></figure></li><li>恢复数据库mariadb.dump并设置Luigi用户的权限<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/image808f3cdd5315e9fa.png" alt="image808f3cdd5315e9fa.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/imagea8dd2c9953085953.png" alt="imagea8dd2c9953085953.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/image06e351545672163d.png" alt="image06e351545672163d.png"></li><li>数据库初始化，设置root用户密码<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/imagec1410bfdea664f81.png" alt="imagec1410bfdea664f81.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/imagef67b53895c32fb96.png" alt="imagef67b53895c32fb96.png"></li></ol><h2 id="数据库查询"><a href="#数据库查询" class="headerlink" title="数据库查询"></a>数据库查询</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">数据库查询，在系统 system1上使用数据库 Contacts， 并使用相应的SQL查询以回答下列问题：</span><br><span class="line">密码是 tangerine 的人的名字?</span><br><span class="line">用户ID号码为4654的用户名成是？</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/19/imagea0f72e67bb90b6b8.png" alt="imagea0f72e67bb90b6b8.png"></p><h2 id="重启机器，检查题目"><a href="#重启机器，检查题目" class="headerlink" title="重启机器，检查题目"></a>重启机器，检查题目</h2>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;RHCE练习题目。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/tags/RHCE/"/>
    
  </entry>
  
  <entry>
    <title>RHCSA练习</title>
    <link href="https://dana5haw.com/posts/ZH-CN/RHCSA-practice.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/RHCSA-practice.html</id>
    <published>2020-07-17T13:00:07.000Z</published>
    <updated>2020-07-17T15:06:51.037Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>练习RHCSA题目。</p><a id="more"></a><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">虚拟机的网络配置应该如下：</span><br><span class="line">主机名： station.domain1.example.com</span><br><span class="line">IP地址： 172.24.1.5</span><br><span class="line">子网掩码： 255.255.255.0</span><br><span class="line">网关 172.24.1.254</span><br><span class="line">名称服务： 172.24.1.250</span><br><span class="line">虚拟机的 root 密码是 flectrag</span><br></pre></td></tr></table></figure><h2 id="破解root密码"><a href="#破解root密码" class="headerlink" title="破解root密码"></a>破解root密码</h2><ol><li>重启虚拟机，按e进入编辑模式，在linux16这行末尾加上<code>rd.break</code>，按ctrl+x启动。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image.png" alt="image.png"></li><li>执行以下命令，重置root密码，重启虚拟机。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mount -o remount,rw &#x2F;sysroot</span><br><span class="line">chroot &#x2F;sysroot</span><br><span class="line">echo &quot;flectrag&quot; | passwd --stdin root</span><br><span class="line">touch &#x2F;.autorelabel</span><br><span class="line">exit</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image9cebc510014f6486.png" alt="image9cebc510014f6486.png"></li><li>以重置的密码登录到root用户</li></ol><h2 id="配置网卡"><a href="#配置网卡" class="headerlink" title="配置网卡"></a>配置网卡</h2><p>使用nm-connetion-editor配置网卡信息，重启网卡<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image84e01cc66367709d.png" alt="image84e01cc66367709d.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/imageae2ef2e0312bef29.png" alt="imageae2ef2e0312bef29.png"></p><h2 id="配置SELINUX"><a href="#配置SELINUX" class="headerlink" title="配置SELINUX"></a>配置SELINUX</h2><p>默认配置是enforcing，检查一下配置文件（/etc/selinux/config）的配置就行。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/imagec2f0a3522027e869.png" alt="imagec2f0a3522027e869.png"></p><h2 id="配置yum仓库"><a href="#配置yum仓库" class="headerlink" title="配置yum仓库"></a>配置yum仓库</h2><ol><li>编辑yum配置文件<code>/etc/yum.repos.d/rhcsa.repo</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[rhcsa]</span><br><span class="line">name&#x3D;rhcsa</span><br><span class="line">baseurl&#x3D;http:&#x2F;&#x2F;rhgls.domain1.example.com&#x2F;rhel</span><br><span class="line">enabled&#x3D;1</span><br><span class="line">gpgcheck&#x3D;0</span><br></pre></td></tr></table></figure></li><li>yum clean all</li><li>yum makecache</li></ol><h2 id="调整逻辑卷大小"><a href="#调整逻辑卷大小" class="headerlink" title="调整逻辑卷大小"></a>调整逻辑卷大小</h2><ol><li>添加一块20G硬盘<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/imagedf280f9948188cdc.png" alt="imagedf280f9948188cdc.png"></li><li>创建一个逻辑卷，大小为200M<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/imagee1f38818b51e09c6.png" alt="imagee1f38818b51e09c6.png"></li><li>将逻辑卷扩容至300M</li></ol><ul><li>逻辑卷挂载到/finance目录<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image9adc2e441f5389f9.png" alt="image9adc2e441f5389f9.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image6a66760da30e2981.png" alt="image6a66760da30e2981.png"></li><li>扩容<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image9f017c72d2afeb2e.png" alt="image9f017c72d2afeb2e.png"></li></ul><h2 id="创建用户账户"><a href="#创建用户账户" class="headerlink" title="创建用户账户"></a>创建用户账户</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">一个名为 adminuser 的组</span><br><span class="line">一个名为 natasha 的用户，其属于 adminuser ，这个组是该用户的从属组</span><br><span class="line">一个名为 harry 的用户，属于 adminuser ，这个组是该用户的从属组</span><br><span class="line">一个名为 sarah 的用户，其在系统中没有可交互的 shell，并且该用户不是 adminuser 组的成员</span><br><span class="line">用户 natasha ， harry ，和 sarah 的密码都要设置为 flectrag</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image3cc73e52d77c097d.png" alt="image3cc73e52d77c097d.png"></p><h2 id="配置文件-var-tmp-fstab的权限"><a href="#配置文件-var-tmp-fstab的权限" class="headerlink" title="配置文件/var/tmp/fstab的权限"></a>配置文件/var/tmp/fstab的权限</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">拷贝文件 &#x2F;etc&#x2F;fstab 到 &#x2F;var&#x2F;tmp&#x2F;fstab。 配置文件 &#x2F;var&#x2F;tmp&#x2F;fstab 的权限：</span><br><span class="line">文件 &#x2F;var&#x2F;tmp&#x2F;fstab 的拥有者是 root 用户</span><br><span class="line">文件 &#x2F;var&#x2F;tmp&#x2F;fstab 属于 root 组</span><br><span class="line">文件 &#x2F;var&#x2F;tmp&#x2F;fstab 对任何人都不可执行</span><br><span class="line">用户 natasha 能够对文件 &#x2F;var&#x2F;tmp&#x2F;fstab 具有读和写的权限</span><br><span class="line">用户 harry 对文件 &#x2F;var&#x2F;tmp&#x2F;fstab 既不能读，也不能写</span><br><span class="line">所有其他用户（当前的和将来的）能够对文件 &#x2F;var&#x2F;tmp&#x2F;fstab 进行读操作</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image3fec89fc09b82a7b.png" alt="image3fec89fc09b82a7b.png"></p><h2 id="配置一个cron任务"><a href="#配置一个cron任务" class="headerlink" title="配置一个cron任务"></a>配置一个cron任务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">用户 natasha 必须配置一个定时执行任务，每天在本地时间 14:23 时执行命令。</span><br><span class="line">&#x2F;bin&#x2F;echo hiya</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image350a6c0804039dfb.png" alt="image350a6c0804039dfb.png"></p><h2 id="创建一个共享目录"><a href="#创建一个共享目录" class="headerlink" title="创建一个共享目录"></a>创建一个共享目录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">创建一个共享目录 &#x2F;home&#x2F;admins ，特性如下：</span><br><span class="line">&#x2F;home&#x2F;admins 目录的组所有权是 adminuser</span><br><span class="line">adminuser 组的成员对目录有读写和执行的权限。除此之外的其他所有用户没有任何权限（root 用户能够访问系统中的所有文件和目录）</span><br><span class="line">在 &#x2F;home&#x2F;admins 目录中创建的文件，其组所有权会自动设置为属于 adminuser 组</span><br></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=""></a><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image4929cc5c7eb3e5bf.png" alt="image4929cc5c7eb3e5bf.png"></h2><p>sgid：该目录创建的文件自动属于目录的所有组</p><h2 id="安装内核的升级"><a href="#安装内核的升级" class="headerlink" title="安装内核的升级"></a>安装内核的升级</h2><ol><li>编辑yum配置文件/etc/yum.repos.d/update.repo<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[update]</span><br><span class="line">name&#x3D;update</span><br><span class="line">baseurl&#x3D;http:&#x2F;&#x2F;rhgls.domain1.example.com&#x2F;updates</span><br><span class="line">enabled&#x3D;1</span><br><span class="line">gpgcheck&#x3D;0</span><br></pre></td></tr></table></figure></li><li>yum clean all</li><li>yum makecache</li><li>yum update kernel</li></ol><h2 id="绑定到外部验证服务"><a href="#绑定到外部验证服务" class="headerlink" title="绑定到外部验证服务"></a>绑定到外部验证服务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">系统 host.domain1.example.com 提供了一个 LDAP 验证服务。您的系统需要按照以下要求绑定到这个服务上：</span><br><span class="line">验证服务器的基本 DN 是： dc&#x3D;domain1,dc&#x3D;example,dc&#x3D;com.</span><br><span class="line">帐户信息和验证信息都是由 LDAP 提供的。</span><br><span class="line">连接需要使用证书进行加密，证书可以在下面的链接中下载： ftp:&#x2F;&#x2F;host.domain1.example.com&#x2F;pub&#x2F;domain1.crt</span><br><span class="line">当正确完成配置后，用户 ldapuser1 应该能够登录到您的系统中，但是没有主目录。当您完成 autofs 的题目之后，才能生成主目录。</span><br></pre></td></tr></table></figure><ol><li>安装LDAP相关软件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install openldap openldap-clients sssd authconfig-gtk</span><br></pre></td></tr></table></figure></li><li>使用工具authconfig-gtk进入配置界面<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/imagea89f653aa9c27150.png" alt="imagea89f653aa9c27150.png"></li><li>验证：<code>id ldapuser1</code>如果能看到该用户，说明LDAP服务已挂载成功</li></ol><h2 id="配置NTP服务"><a href="#配置NTP服务" class="headerlink" title="配置NTP服务"></a>配置NTP服务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">让其作为一个 rhgls.domain1.example.com 的 NTP 客户端</span><br></pre></td></tr></table></figure><ol><li>编辑配置文件/etc/chrony.conf<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image2c31dded0e264c27.png" alt="image2c31dded0e264c27.png"></li><li>重启chronyd并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart chronyd</span><br><span class="line">systemctl enable chronyd</span><br></pre></td></tr></table></figure></li></ol><h2 id="配置autofs"><a href="#配置autofs" class="headerlink" title="配置autofs"></a>配置autofs</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">让用户可自动挂载由主机 host.domain1.example.com 提供的家目录： &#x2F;home&#x2F;guests&#x2F;ldapuser1。</span><br><span class="line">解题方法：（最新考题nfs版本是3,具体的挂载目录看考题）</span><br></pre></td></tr></table></figure><ol><li>安装autofs<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install autofs</span><br></pre></td></tr></table></figure></li><li>配置autofs<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image19f7b76c2b7cc2d0.png" alt="image19f7b76c2b7cc2d0.png"></li></ol><ul><li>主配置文件/etc/auto.master<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image066f9a5d45880297.png" alt="image066f9a5d45880297.png"></li><li>编辑配置文件/etc/auto.guests<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image7231a44fe49f0d6e.png" alt="image7231a44fe49f0d6e.png"></li></ul><ol start="3"><li>重启autofs并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart autofs</span><br><span class="line">systemctl enable autofs</span><br></pre></td></tr></table></figure></li><li>验证：<code>su - ldapuser1</code>可以直接登录，不提示“没有用户家目录”，就说明autofs成功。</li></ol><h2 id="配置一个用户账户"><a href="#配置一个用户账户" class="headerlink" title="配置一个用户账户"></a>配置一个用户账户</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">创建一个UID为2000的用户，用户名称是jack。</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/imageb2f337f345b3b924.png" alt="imageb2f337f345b3b924.png"></p><h2 id="添加一个swap分区"><a href="#添加一个swap分区" class="headerlink" title="添加一个swap分区"></a>添加一个swap分区</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">创建一个512M的SWAP分区，开机需要自动挂载</span><br></pre></td></tr></table></figure><ol><li>添加一块20G的硬盘<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image047774d561eacf8a.png" alt="image047774d561eacf8a.png"></li><li>创建512M的逻辑分区<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/imagee60791cb1bc128df.png" alt="imagee60791cb1bc128df.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image6398915c46308c09.png" alt="image6398915c46308c09.png"></li><li>创建swap分区<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image8bcab1c017b294f7.png" alt="image8bcab1c017b294f7.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image2f96d0cb1daa2b45.png" alt="image2f96d0cb1daa2b45.png"></li></ol><h2 id="查找文件"><a href="#查找文件" class="headerlink" title="查找文件"></a>查找文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">查找所有属于ronny用户的文件，并复制到&#x2F;findfiles目录中。</span><br></pre></td></tr></table></figure><ol><li>创建ronny用户，准备一些文件<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image1725a8cab707a9ff.png" alt="image1725a8cab707a9ff.png"></li><li>创建/findfiles目录<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir &#x2F;findfiles</span><br></pre></td></tr></table></figure></li><li>find命令查找ronny用户的文件，并复制到/findfiles目录<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image83909d7438a7450d.png" alt="image83909d7438a7450d.png"></li></ol><h2 id="查找一个字符串"><a href="#查找一个字符串" class="headerlink" title="查找一个字符串"></a>查找一个字符串</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">查看&#x2F;usr&#x2F;share&#x2F;dict&#x2F;words文件中所有包含seismic关键词的行，并将找到的行写入到&#x2F;root&#x2F;filelist文件中。</span><br></pre></td></tr></table></figure><p>自己随便举了一个例子，方法就是这样：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image6b93118afb4ad556.png" alt="image6b93118afb4ad556.png"></p><h2 id="创建一个归档"><a href="#创建一个归档" class="headerlink" title="创建一个归档"></a>创建一个归档</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">将&#x2F;etc目录打包成压缩包后放置在&#x2F;root&#x2F;backup.tar.bz2.</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/imagefa8438a74df6bfd0.png" alt="imagefa8438a74df6bfd0.png"></p><h2 id="创建一个逻辑卷"><a href="#创建一个逻辑卷" class="headerlink" title="创建一个逻辑卷"></a>创建一个逻辑卷</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">创建指定大小的逻辑卷，需要自己创建分区、物理卷、逻辑卷组和逻辑卷。</span><br><span class="line">创建一个名称为database的逻辑卷，卷组名称为datastore。</span><br><span class="line">逻辑卷大小为160M，PE大小为16M。</span><br><span class="line">要求开机后自动挂载到&#x2F;mnt&#x2F;database目录中。</span><br></pre></td></tr></table></figure><p>创建逻辑卷，并设置开机自动挂载<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image6e6685c090bcafc0.png" alt="image6e6685c090bcafc0.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image7efc95cf539dcd13.png" alt="image7efc95cf539dcd13.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image4fd41ecb803e478b.png" alt="image4fd41ecb803e478b.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image8d7e1fcef77fc298.png" alt="image8d7e1fcef77fc298.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/17/image0463563e4587cf22.png" alt="image0463563e4587cf22.png"></p><h2 id="最后，重启机器，检查题目"><a href="#最后，重启机器，检查题目" class="headerlink" title="最后，重启机器，检查题目"></a>最后，重启机器，检查题目</h2>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;练习RHCSA题目。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="RHCSA练习" scheme="https://dana5haw.com/tags/RHCSA%E7%BB%83%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>redhat7中mariadb的简单使用</title>
    <link href="https://dana5haw.com/posts/ZH-CN/redhat7-mariadb-usage.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/redhat7-mariadb-usage.html</id>
    <published>2020-07-12T08:36:59.000Z</published>
    <updated>2020-07-12T09:09:07.664Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>redhat7默认的数据库是mariadb，使用语法与mysql一致。</p><a id="more"></a><h2 id="mariadb的简单使用"><a href="#mariadb的简单使用" class="headerlink" title="mariadb的简单使用"></a>mariadb的简单使用</h2><ol><li>安装mariadb并开启服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install mariadb mariadb-server</span><br><span class="line">systemctl restart mariadb</span><br><span class="line">systemctl enable mariadb</span><br></pre></td></tr></table></figure></li><li>数据库初始化，注意过程中会设置root密码。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql_secure_installation</span><br></pre></td></tr></table></figure></li><li>登录到root用户的数据库<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure>进入数据库命令行：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; show databases; #查看当前的数据库</span><br><span class="line">MariaDB [(none)]&gt; set password &#x3D; password(&#39;linuxprobe&#39;); #修改root密码</span><br><span class="line">MariaDB [(none)]&gt; create user edge@localhost identified by &#39;redhat&#39;; #新建用户edge，密码为redhat</span><br><span class="line">MariaDB [(none)]&gt; grant select,update,delete,insert on mysql.* to edge@localhost; #给edge用户授予权限，可对root用户的数据库进行增删查改</span><br><span class="line">MariaDB [(none)]&gt; revoke select,update,delete,insert on mysql.* from edge@localhost; #给edge用户取消权限，该用户将无法看到root用户的数据库</span><br><span class="line">MariaDB [(none)]&gt; create database linuxprobe; #创建数据库linuxprobe</span><br><span class="line">MariaDB [(none)]&gt; use linuxprobe; #进入数据库linuxprobe</span><br><span class="line">MariaDB [(none)]&gt; create table mybook(name char(15),price int,pages int); #创建数据表mybook</span><br><span class="line">MariaDB [(none)]&gt; describe mybook; #查看数据表mybook的字段结构</span><br><span class="line">MariaDB [(none)]&gt; insert into mybook (name,price,pages) values(&#39;linuxprobe&#39;,&#39;50&#39;,&#39;300&#39;); #向数据表mybook中插入数据</span><br><span class="line">MariaDB [(none)]&gt; update mybook set price&#x3D;300; #更改数据表的price字段，设置为30</span><br><span class="line">MariaDB [(none)]&gt; delete from mybook; #删除数据表mybook的数据内容</span><br><span class="line">MariaDB [(none)]&gt; select * from mybook; #查询数据表mybook的所有数据 </span><br><span class="line">MariaDB [(none)]&gt; select name,price from mybook where price&#x3D;30; #条件查询，查询price字段值为30的数据</span><br><span class="line">MariaDB [(none)]&gt; drop table mybook; #删除数据表mybook</span><br></pre></td></tr></table></figure></li></ol><hr><p><code>delete from mybook</code>与<code>drop table mybook</code>的区别：delete是清空数据表里面的数据，数据表结构还在；但是drop是直接把数据表销毁，数据表结构也不在了。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/12/imagee9e6a6785f528631.png" alt="imagee9e6a6785f528631.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/12/image3313aa102c23da8f.png" alt="image3313aa102c23da8f.png"><br>4. 数据库备份与恢复</p><ul><li>数据库备份<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u root -p linuxprobe &gt;  haha.dump</span><br></pre></td></tr></table></figure></li><li>数据库恢复<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p linuxprobe &lt; haha.dump</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;redhat7默认的数据库是mariadb，使用语法与mysql一致。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="redhat7" scheme="https://dana5haw.com/tags/redhat7/"/>
    
      <category term="mariadb" scheme="https://dana5haw.com/tags/mariadb/"/>
    
  </entry>
  
  <entry>
    <title>redhat7使用PXE+kickstart无人值守安装系统</title>
    <link href="https://dana5haw.com/posts/ZH-CN/redhat7-PXE-kickstart-auto-install-system.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/redhat7-PXE-kickstart-auto-install-system.html</id>
    <published>2020-07-12T07:52:26.000Z</published>
    <updated>2020-07-12T08:35:01.371Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>redhat配置PXE+kickstart，自动为同网段服务器安装系统。</p><a id="more"></a><h2 id="PXE-kickstart配置"><a href="#PXE-kickstart配置" class="headerlink" title="PXE+kickstart配置"></a>PXE+kickstart配置</h2><p>IP地址：192.168.0.106<br>网卡配置：仅主机模式</p><ol><li>配置DHCP服务</li></ol><ul><li>安装dhcp<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install dhcp</span><br></pre></td></tr></table></figure></li><li>编辑配置文件/etc/dhcp/dhcpd.conf<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">allow booting;</span><br><span class="line">allow bootp;</span><br><span class="line">ddns-update-style none;</span><br><span class="line">ignore client-updates;</span><br><span class="line">subnet 192.168.0.0 netmask 255.255.255.0 &#123;</span><br><span class="line">option subnet-mask 255.255.255.0;</span><br><span class="line">option domain-name-servers 8.8.8.8;</span><br><span class="line">range dynamic-bootp 192.168.0.50 192.168.0.250; #为客户端自动分配IP地址，地址范围192.168.0.50~192.168.0.250</span><br><span class="line">default-lease-time 21600;</span><br><span class="line">max-lease-time 43200;</span><br><span class="line">next-server 192.168.0.106; #网关设置为本机IP</span><br><span class="line">filename &quot;pxelinux.0&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>重启dhcpd服务并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart dhcpd</span><br><span class="line">systemctl enable dhcpd</span><br></pre></td></tr></table></figure></li></ul><ol start="2"><li>配置tftp服务</li></ol><ul><li>安装tfp-server<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install tftp-server</span><br></pre></td></tr></table></figure></li><li>修改配置文件/etc/xinetd.d/tftp<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/12/image.png" alt="image.png"></li><li>重启xinetd服务并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart xinetd</span><br><span class="line">systemctl enable xinetd</span><br></pre></td></tr></table></figure></li></ul><ol start="3"><li>配置syslinux</li></ol><ul><li>安装syslinux<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install syslinux</span><br></pre></td></tr></table></figure></li><li>将syslinux的配置文件拷贝到tftp服务的目录<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cp &#x2F;usr&#x2F;share&#x2F;syslinux&#x2F;pxelinux.0 &#x2F;var&#x2F;lib&#x2F;tftpboot&#x2F;</span><br><span class="line">cp &#x2F;media&#x2F;cdrom&#x2F;isolinux&#x2F;&#123;vesamenu.c32,boot.msg&#125; &#x2F;var&#x2F;lib&#x2F;tftpboot&#x2F;</span><br><span class="line">cp &#x2F;media&#x2F;cdrom&#x2F;images&#x2F;pxeboot&#x2F;&#123;vmlinuz,initrd.img&#125; &#x2F;var&#x2F;lib&#x2F;tftpboot&#x2F;</span><br><span class="line">cd &#x2F;var&#x2F;lib&#x2F;tftpboot</span><br><span class="line">mkdir pxelinux.cfg</span><br><span class="line">cp &#x2F;media&#x2F;cdrom&#x2F;isolinux&#x2F;isolinux.cfg pxelinux.cfg&#x2F;default</span><br></pre></td></tr></table></figure></li><li>修改配置文件/var/lib/tftpboot/pxelinux.cfg/default<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/12/image24ccca6e728ebbaa.png" alt="image24ccca6e728ebbaa.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/12/image30676559fd011adf.png" alt="image30676559fd011adf.png"></li></ul><ol start="4"><li>配置http服务</li></ol><ul><li>安装httpd<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install httpd</span><br></pre></td></tr></table></figure></li><li>拷贝镜像文件到http根目录<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -rf &#x2F;media&#x2F;cdrom&#x2F;* &#x2F;var&#x2F;www&#x2F;html&#x2F;</span><br></pre></td></tr></table></figure></li><li>重启httpd服务并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart httpd</span><br><span class="line">systemctl enable httpd</span><br></pre></td></tr></table></figure></li></ul><ol start="5"><li>配置kickstart</li></ol><ul><li>编辑配置文件ks.cfg<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkdir &#x2F;var&#x2F;www&#x2F;html&#x2F;pub</span><br><span class="line">cp &#x2F;root&#x2F;anaconda-ks.cfg &#x2F;var&#x2F;www&#x2F;html&#x2F;pub</span><br><span class="line">cd &#x2F;var&#x2F;www&#x2F;html&#x2F;pub</span><br><span class="line">mv anaconda-ks.cfg ks.cfg</span><br><span class="line">chmod 755 ks.cfg</span><br></pre></td></tr></table></figure>配置文件修改以下内容：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/12/image82ca57f4a89f4b62.png" alt="image82ca57f4a89f4b62.png"></li><li>重启httpd服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart httpd</span><br></pre></td></tr></table></figure></li></ul><ol start="6"><li>清除防火墙规则<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables -F</span><br><span class="line">service iptables save</span><br></pre></td></tr></table></figure><h2 id="客户端验证无人值守安装"><a href="#客户端验证无人值守安装" class="headerlink" title="客户端验证无人值守安装"></a>客户端验证无人值守安装</h2>客户端设置：网卡模式为仅主机模式。设置完成后，即可进入自动安装系统，无需手动操作。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/12/imagec9670f281bf93bd6.png" alt="imagec9670f281bf93bd6.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/12/image1d0956854cc334e2.png" alt="image1d0956854cc334e2.png"><br>客户端分得的IP地址在DHCP地址池范围内：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/12/imageed657cda8f51f620.png" alt="imageed657cda8f51f620.png"></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;redhat配置PXE+kickstart，自动为同网段服务器安装系统。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="redhat7" scheme="https://dana5haw.com/tags/redhat7/"/>
    
      <category term="PXE" scheme="https://dana5haw.com/tags/PXE/"/>
    
      <category term="kickstart" scheme="https://dana5haw.com/tags/kickstart/"/>
    
      <category term="无人值守安装系统" scheme="https://dana5haw.com/tags/%E6%97%A0%E4%BA%BA%E5%80%BC%E5%AE%88%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>redhat7使用iSCSI部署网络存储</title>
    <link href="https://dana5haw.com/posts/ZH-CN/rehat7-iSCSI-network-store.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/rehat7-iSCSI-network-store.html</id>
    <published>2020-07-11T13:07:12.000Z</published>
    <updated>2020-07-11T14:04:51.376Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>两台电脑之间传输数据，最简单快速的方式，把硬盘拆下来，用iSCSI接口转接，将硬盘变成移动硬盘。</p><a id="more"></a><h2 id="服务端部署iSCSI"><a href="#服务端部署iSCSI" class="headerlink" title="服务端部署iSCSI"></a>服务端部署iSCSI</h2><p>服务端IP地址：192.168.0.106</p><ol><li>服务端新增4块硬盘，创建raid10磁盘阵列<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image6082175f65c8f591.png" alt="image6082175f65c8f591.png"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mdadm -Cv &#x2F;dev&#x2F;md0 -n 4 -l 10 &#x2F;dev&#x2F;sd[b-e] #创建raid10阵列</span><br><span class="line">mdadm -D &#x2F;dev&#x2F;md0 #检查磁盘阵列初始化是否完成</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image9bf4838232ce93ff.png" alt="image9bf4838232ce93ff.png"></li><li>安装target、tarfetd<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install targetd targetcli</span><br></pre></td></tr></table></figure></li><li>命令行输入targetcli进行iSCSI部署操作<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/imagef8de3494ad4f9a20.png" alt="imagef8de3494ad4f9a20.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image9af18b96fed76baa.png" alt="image9af18b96fed76baa.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image7e8d0072172e9af6.png" alt="image7e8d0072172e9af6.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image51376da58243d471.png" alt="image51376da58243d471.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/imagec172eb34c709922d.png" alt="imagec172eb34c709922d.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image6688416831e6421c.png" alt="image6688416831e6421c.png"><h2 id="验证iSCSI网络存储服务"><a href="#验证iSCSI网络存储服务" class="headerlink" title="验证iSCSI网络存储服务"></a>验证iSCSI网络存储服务</h2></li><li>linux客户端</li></ol><ul><li>编辑配置文件/etc/iscsi/initiatorname.iscsi<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image312788230cf5cde5.png" alt="image312788230cf5cde5.png"></li><li>重启服务并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart iscsid</span><br><span class="line">systemctl renable iscsid</span><br></pre></td></tr></table></figure></li><li>发现服务端<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iscsiadm -m discovery -t st -p 192.168.0.106</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image33a37f20605b4266.png" alt="image33a37f20605b4266.png"></li><li>登录到服务端<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iscsiadm -m node -T iqn.2003-01.org.linux-iscsi.dana.x8664:sn.b6176097698c -p 192.168.0.106 -l</span><br></pre></td></tr></table></figure></li><li>卸载服务端<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iscsiadm -m node -T iqn.2003-01.org.linux-iscsi.dana.x8664:sn.b6176097698c -u</span><br></pre></td></tr></table></figure></li></ul><ol start="2"><li>windows客户端<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image5fb28d2aa70f8080.png" alt="image5fb28d2aa70f8080.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image7914279380dd54e0.png" alt="image7914279380dd54e0.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/imagea1a638ee565a432e.png" alt="imagea1a638ee565a432e.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image064ff2a8506390fe.png" alt="image064ff2a8506390fe.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image8cdab3925dc9727c.png" alt="image8cdab3925dc9727c.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image7ecfcc15bbc53f7d.png" alt="image7ecfcc15bbc53f7d.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image89a05f5e52f08513.png" alt="image89a05f5e52f08513.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image850319cd5ac9a91f.png" alt="image850319cd5ac9a91f.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image456a82072f09410a.png" alt="image456a82072f09410a.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image7ce4903c5d6965df.png" alt="image7ce4903c5d6965df.png"></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;两台电脑之间传输数据，最简单快速的方式，把硬盘拆下来，用iSCSI接口转接，将硬盘变成移动硬盘。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="redhat7" scheme="https://dana5haw.com/tags/redhat7/"/>
    
      <category term="iSCSI" scheme="https://dana5haw.com/tags/iSCSI/"/>
    
      <category term="网络存储" scheme="https://dana5haw.com/tags/%E7%BD%91%E7%BB%9C%E5%AD%98%E5%82%A8/"/>
    
  </entry>
  
  <entry>
    <title>redhat7部署squid服务</title>
    <link href="https://dana5haw.com/posts/ZH-CN/redhat7-build-squid-server.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/redhat7-build-squid-server.html</id>
    <published>2020-07-11T02:37:46.000Z</published>
    <updated>2020-07-11T09:08:30.372Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>squid可正向代理、正向透明代理、反向代理。</p><a id="more"></a><h2 id="squid正向代理"><a href="#squid正向代理" class="headerlink" title="squid正向代理"></a>squid正向代理</h2><p>正向代理和SNAT原理类似。<br>服务端：两块网卡，一块连外网，一块连内网</p><ul><li>网卡一：桥接模式，连外网 </li><li>网卡二：仅主机模式，连内网，IP地址（192.168.0.106）<br>客户端：单网卡，仅主机模式，IP地址（192.168.0.102）<br>正向代理搭建过程：</li></ul><ol><li>配置双网卡</li></ol><ul><li>新增网卡<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image.png" alt="image.png"></li><li>开启新增网卡<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image265c2b32707a5a1b.png" alt="image265c2b32707a5a1b.png"></li><li>配置网卡<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nm-connection-editor #进入图形化界面配置网卡</span><br></pre></td></tr></table></figure></li><li>外网网卡配置<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image7140b2e3e4527852.png" alt="image7140b2e3e4527852.png"></li><li>内网网卡配置<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image1600272b0e2e2222.png" alt="image1600272b0e2e2222.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image927d534047159c16.png" alt="image927d534047159c16.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image60c900cb240b5142.png" alt="image60c900cb240b5142.png"></li><li>重启网卡使配置生效<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart network</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image9b4429ed27c3a58b.png" alt="image9b4429ed27c3a58b.png"></li></ul><ol start="2"><li>安装squid<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install squid</span><br></pre></td></tr></table></figure></li><li>清除防火墙规则<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables -F</span><br><span class="line">service iptables save</span><br></pre></td></tr></table></figure></li><li>重启squid并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart squid</span><br><span class="line">systemctl enable squid</span><br></pre></td></tr></table></figure></li><li>客户端验证正向代理<br>客户端是仅主机模式，本身无法访问互联网网站，但是经过服务端的正向代理后，就可以访问互联网。</li></ol><ul><li>客户端浏览器设置代理：设置为服务端的3128端口（squid服务默认端口）<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image70e74e9682a1191a.png" alt="image70e74e9682a1191a.png"></li><li>检查客户端是否能访问互联网网站<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image49f4a88c22965db1.png" alt="image49f4a88c22965db1.png"></li></ul><ol start="6"><li>正向代理设置访问控制</li></ol><ul><li>禁止url含有特定词的访问</li></ul><p>（1）修改配置文件/etc/squid/squid.conf，增加以下语句：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image4f6951b33296de8a.png" alt="image4f6951b33296de8a.png"><br>（2）重启squid服务使配置生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart squid</span><br></pre></td></tr></table></figure><p>（3）验证：url里面含有linux，已被squid拦截。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image0348992fed9143de.png" alt="image0348992fed9143de.png"></p><ul><li>仅允许某个IP使用正向代理服务</li></ul><p>（1）修改配置文件/etc/squid/squid.conf，增加以下语句：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/imageeb5cb2c90fcdc01b.png" alt="imageeb5cb2c90fcdc01b.png"><br>（2）重启squid服务使配置生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart squid</span><br></pre></td></tr></table></figure><p>（3）验证：将客户端的IP改为其他IP地址，则无法使用正向代理访问互联网<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image5b7d495c01009ca8.png" alt="image5b7d495c01009ca8.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image529422e4ac01d2b4.png" alt="image529422e4ac01d2b4.png"></p><ol start="7"><li>服务端设置正向透明代理<br>透明代理是对客户端而言，客户端不用在浏览器设置代理，就是透明代理。以下是正向透明代理的设置方法：</li></ol><ul><li>修改配置文件/etc/squid/squid.conf，修改以下语句：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image66787df57652fefe.png" alt="image66787df57652fefe.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image82735d8d4a7624b4.png" alt="image82735d8d4a7624b4.png"></li><li>检查配置文件语法是否正确<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">squid -k parse</span><br></pre></td></tr></table></figure></li><li>停止squid服务，初始化透明模式的squid配置<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image439cf4390b7aa491.png" alt="image439cf4390b7aa491.png"></li><li>重启squid服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart squid</span><br></pre></td></tr></table></figure></li><li>服务端设置防火墙策略，使客户端与服务端共用外网网卡访问互联网<br>（1）方法一：通过iptables设置转发策略<br>开启DNS服务的数据转发功能，允许squid转发IPv4数据包<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables -F</span><br><span class="line">iptables -t nat -A POSTROUTING -p udp --dport 53 -o eno16777736 -j MASQUERADE</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image672695e7696f852d.png" alt="image672695e7696f852d.png"><br>把客户端的80端口请求转发到服务端的3128端口（squid服务的端口），并且对客户端的IP做SNAT（源地址转换，使得客户端与服务端共用外网网卡）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iptables -t nat -A PREROUTING -p tcp -m tcp --dport 80 -j  REDIRECT --to-ports 3128</span><br><span class="line">iptables -t nat -A POSTROUTING -s 192.168.0.102 -o eno16777736 -j SNAT --to 192.168.43.208</span><br><span class="line">service iptables save</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image9f3f73a7e1eed80f.png" alt="image9f3f73a7e1eed80f.png"><br>（2）方法二：通过firewalld-config设置转发策略<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/imagecb1b5596770b28bd.png" alt="imagecb1b5596770b28bd.png"></li><li>客户端修改网卡配置，将网关设置为服务端IP地址192.168.0.106，DNS服务设置为8.8.8.8。浏览器不设置代理，即可访问互联网网站。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image6279dfa426002e43.png" alt="image6279dfa426002e43.png"></li></ul><h2 id="squid反向代理"><a href="#squid反向代理" class="headerlink" title="squid反向代理"></a>squid反向代理</h2><p>就是可以在用代理服务器的IP地址访问到网站内容，看起来这个网站就是代理服务器自己做的一样。说得通俗一点，就是偷别人的作品，冠上自己的姓名。以下是squid反向代理的配置方法：<br>重新做一台squid代理服务器，只需要一张桥接网卡，可连外网。</p><ul><li>安装squid<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install squid</span><br></pre></td></tr></table></figure></li><li>修改配置文件/etc/squid/squid.conf<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http_port 192.168.43.208:80 vhost #将本机外网网卡地址设置为虚拟主机</span><br><span class="line">cache_peer 122.142.74.150 parent 80 0  originserver #同步目标服务器的网站内容</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/image629638bce63ab274.png" alt="image629638bce63ab274.png"></li><li>重启squid服务并 加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart squid</span><br><span class="line">systemctl enable squid</span><br></pre></td></tr></table></figure></li><li>在浏览器输入本机地址，即可访问到目标网站（<a href="http://www.jldaren.com）的内容，和原站一模一样" target="_blank" rel="noopener">www.jldaren.com）的内容，和原站一模一样</a><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/imageb623a21ac4f98893.png" alt="imageb623a21ac4f98893.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/11/imagea38a90f80016fbd2.png" alt="imagea38a90f80016fbd2.png"></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;squid可正向代理、正向透明代理、反向代理。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="redhat7" scheme="https://dana5haw.com/tags/redhat7/"/>
    
      <category term="squid" scheme="https://dana5haw.com/tags/squid/"/>
    
  </entry>
  
  <entry>
    <title>redhat7搭建邮局postfix+dovecot+outlook</title>
    <link href="https://dana5haw.com/posts/ZH-CN/redhat7-postfix-dovecot-outlook.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/redhat7-postfix-dovecot-outlook.html</id>
    <published>2020-07-09T16:43:30.000Z</published>
    <updated>2020-07-09T18:12:53.187Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>redhat7搭建邮局：postfix+dovecot+outlook。使用outlook作为收发客户端，postfix作为发件端、dovecot作为收件端。</p><a id="more"></a><h2 id="搭建邮局"><a href="#搭建邮局" class="headerlink" title="搭建邮局"></a>搭建邮局</h2><ol><li>部署DNS正向解析</li></ol><ul><li>安装bind-chroot<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install bind-chroot</span><br></pre></td></tr></table></figure></li><li>编辑配置文件/etc/named.conf<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/image7ced7106b31c31a9.png" alt="image7ced7106b31c31a9.png"></li><li>编辑区域配置文件/etc/named.rfc1912.zones<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">zone &quot;linuxcool.com&quot; IN &#123;</span><br><span class="line">type master;</span><br><span class="line">file &quot;linuxcool.com.zone&quot;;</span><br><span class="line">allow-update &#123; none; &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li>拷贝正向解析文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;var&#x2F;named&#x2F;</span><br><span class="line">cp -a named.localhost linuxcool.com.zone</span><br></pre></td></tr></table></figure></li><li>编辑正向解析文件linuxcool.com.zone<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$TTL 1D</span><br><span class="line">@       IN SOA  linuxcool.com. root.linuxcool.com. (</span><br><span class="line">                                        0       ; serial</span><br><span class="line">                                        1D      ; refresh</span><br><span class="line">                                        1H      ; retry</span><br><span class="line">                                        1W      ; expire</span><br><span class="line">                                        3H )    ; minimum</span><br><span class="line">        NS      ns.linuxcool.com.</span><br><span class="line">ns      IN A    192.168.0.106</span><br><span class="line">mail    IN A    192.168.0.106</span><br><span class="line">@       IN MX 10 mail.linuxcool.com.</span><br></pre></td></tr></table></figure></li><li>重启DNS服务并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart named</span><br><span class="line">systemctl enable named</span><br></pre></td></tr></table></figure></li></ul><ol start="2"><li>设置主机名（永久修改）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname mail.linuxcool.com</span><br></pre></td></tr></table></figure></li><li>配置postfix发件服务</li></ol><ul><li>编辑配置文件/etc/postfix/main.cf<br>设置myhostname、mydomain、myorigin这三个变量：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/image69c54a8015c99773.png" alt="image69c54a8015c99773.png"><br>设置网卡监听地址：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/image69dd1432b9570be3.png" alt="image69dd1432b9570be3.png"><br>设置邮件接收方的主机名或域名：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/imagee5cb9cee3ea2554f.png" alt="imagee5cb9cee3ea2554f.png"></li><li>重启postfix服务并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart postfix</span><br><span class="line">systemctl enable postfix</span><br></pre></td></tr></table></figure></li></ul><ol start="5"><li>部署dovecot收件服务</li></ol><ul><li>增加用户kk，并设置密码<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd kk</span><br><span class="line">passwd kk</span><br></pre></td></tr></table></figure></li><li>安装dovecot<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install dovecot</span><br></pre></td></tr></table></figure></li><li>编辑主配置文件/etc/dovecot/dovecot.conf<br>取消注释第24行，新增第25行（允许非密文登录）<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/image7ddbb9609df3f423.png" alt="image7ddbb9609df3f423.png"><br>第48行，设置允许登录的网段范围<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/image3e051af8b5e55e9d.png" alt="image3e051af8b5e55e9d.png"></li><li>编辑配置文件/etc/dovecot/conf.d/10-mail.conf，取消注释第25行<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/imagea03b4c9df318798b.png" alt="imagea03b4c9df318798b.png"></li><li>登录到kk用户，创建目录<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">su - kk</span><br><span class="line">mkdir -p mail&#x2F;.iamp&#x2F;INBOX</span><br></pre></td></tr></table></figure></li><li>设置变量alias，把xxoo作为root的虚拟用户<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;aliases</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/image79944858dee6c333.png" alt="image79944858dee6c333.png"></li><li>重启dovecot服务并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart dovecot</span><br><span class="line">systemctl enable dovecot</span><br></pre></td></tr></table></figure><h2 id="使用outlook测试邮局"><a href="#使用outlook测试邮局" class="headerlink" title="使用outlook测试邮局"></a>使用outlook测试邮局</h2></li><li>outlook邮件设置：网关和DNS设置为服务端的IP地址<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/image.png" alt="image.png"></li><li>测试发送邮件到root用户<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/image73696f02bb61c9ad.png" alt="image73696f02bb61c9ad.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/image6f98ab3c6857f179.png" alt="image6f98ab3c6857f179.png"></li><li>测试发送邮件到xxoo用户（这是一个虚拟用户，实际不存在），xxoo用户会把邮件转发给root用户<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/imageb2e39528680a0c15.png" alt="imageb2e39528680a0c15.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/imagec3d9c9329d47a7a4.png" alt="imagec3d9c9329d47a7a4.png"></li><li>测试服务端root用户发送邮件到kk用户<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/image5b870e44b330c5fc.png" alt="image5b870e44b330c5fc.png"></li></ul><hr><p>遇到一个问题：kk用户没有收到邮件。<br>原因分析：既然是收件出现问题，就检查一下服务端的dovecot服务，果然不正常，有如下报错：<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/image3f20e5343c9e7774.png" alt="image3f20e5343c9e7774.png"><br>参考官方解决方法，将/var/mail目录下的内容都 改为600权限，重启dovecot服务，问题解决。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 0600 &#x2F;var&#x2F;mail&#x2F;*</span><br><span class="line">systemctl restart dovecot</span><br></pre></td></tr></table></figure><p><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/image55fb0bb46d4f9fa1.png" alt="image55fb0bb46d4f9fa1.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/image3c41998b54160853.png" alt="image3c41998b54160853.png"><br>验证：现在kk用户可以收取到root发送的邮件了。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/10/image58cacaebcd0fd41d.png" alt="image58cacaebcd0fd41d.png"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;redhat7搭建邮局：postfix+dovecot+outlook。使用outlook作为收发客户端，postfix作为发件端、dovecot作为收件端。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="redhat7" scheme="https://dana5haw.com/tags/redhat7/"/>
    
      <category term="postfix" scheme="https://dana5haw.com/tags/postfix/"/>
    
      <category term="dovecot" scheme="https://dana5haw.com/tags/dovecot/"/>
    
      <category term="outlook" scheme="https://dana5haw.com/tags/outlook/"/>
    
  </entry>
  
  <entry>
    <title>redhat7部署DHCP服务</title>
    <link href="https://dana5haw.com/posts/ZH-CN/redhat7-DHCP.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/redhat7-DHCP.html</id>
    <published>2020-07-09T12:54:22.000Z</published>
    <updated>2020-07-09T13:30:47.911Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>作为DHCP服务器端，需要设置静态IP地址。并且服务端和客户端都得是仅主机模式。</p><a id="more"></a><h2 id="服务端部署DHCP服务"><a href="#服务端部署DHCP服务" class="headerlink" title="服务端部署DHCP服务"></a>服务端部署DHCP服务</h2><ul><li>服务端网卡设置，重启网卡使配置生效<br>IP地址：192.168.0.20<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/09/image.png" alt="image.png"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart network #重启网卡</span><br></pre></td></tr></table></figure></li><li>安装dhcp软件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install dhcp</span><br></pre></td></tr></table></figure></li><li>编辑dhcp服务配置文件<code>/etc/dhcp/dhcpd.conf</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ddns-update-style none;</span><br><span class="line">ignore client-updates;</span><br><span class="line">subnet 192.168.0.0 netmask 255.255.255.0 &#123;</span><br><span class="line">range 192.168.0.50 192.168.0.100; #IP地址池</span><br><span class="line">option subnet-mask 255.255.255.0; #子网掩码</span><br><span class="line">option routers 192.168.0.20; #路由器</span><br><span class="line">option domain-name-servers 192.168.0.20; #DHCP服务器的IP地址</span><br><span class="line">default-lease-time 21600; #默认租约</span><br><span class="line">max-lease-time 43200; #最长租约</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>启动DHCP服务并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start dhcpd</span><br><span class="line">systemctl enable dhcpd</span><br></pre></td></tr></table></figure></li><li>清除iptables规则<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables -F</span><br><span class="line">service iptables save</span><br></pre></td></tr></table></figure><h2 id="客户端验证DHCP服务器效果"><a href="#客户端验证DHCP服务器效果" class="headerlink" title="客户端验证DHCP服务器效果"></a>客户端验证DHCP服务器效果</h2></li><li>编辑虚拟机网络编辑器，取消DHCP的设置<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/09/image40d8da1bf24c05d3.png" alt="image40d8da1bf24c05d3.png"></li><li>设置网卡，改成DHCP方式获取IP地址，重启网卡使配置生效<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/09/image44ab240a1b5043c2.png" alt="image44ab240a1b5043c2.png"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart network</span><br></pre></td></tr></table></figure></li><li>检查机器获取到的IP地址，已获取到DHCP服务器地址池里面随机分配的地址<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/09/imageb5b8d32ddb4c1d0d.png" alt="imageb5b8d32ddb4c1d0d.png"><h2 id="服务端可查看客户端的MAC地址"><a href="#服务端可查看客户端的MAC地址" class="headerlink" title="服务端可查看客户端的MAC地址"></a>服务端可查看客户端的MAC地址</h2></li><li>重启客户端的网卡，查看服务端的日志，可找到客户端使用DHCP服务的详情，包括客户端的MAC地址<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -f &#x2F;var&#x2F;log&#x2F;messages</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/09/imageb3c3b368e25ab25b.png" alt="imageb3c3b368e25ab25b.png"><h2 id="服务端为某个客户端分配固定的IP地址"><a href="#服务端为某个客户端分配固定的IP地址" class="headerlink" title="服务端为某个客户端分配固定的IP地址"></a>服务端为某个客户端分配固定的IP地址</h2></li><li>服务端配置文件添加以下内容，将客户端的MAC地址和固定IP地址做绑定<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">host dana&#123;</span><br><span class="line">        hardware ethernet 00:0c:29:1b:b1:9d;</span><br><span class="line">        fixed-address 192.168.0.66;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/09/imageca35b36e6528b081.png" alt="imageca35b36e6528b081.png"></li><li>服务端重启dhcp服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart dhcpd</span><br></pre></td></tr></table></figure></li><li>客户端重启网卡，检查机器获取的IP地址是否是服务端分配的IP<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/09/image2494cb3bf40a8e29.png" alt="image2494cb3bf40a8e29.png"></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;作为DHCP服务器端，需要设置静态IP地址。并且服务端和客户端都得是仅主机模式。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="redhat7" scheme="https://dana5haw.com/tags/redhat7/"/>
    
      <category term="DHCP" scheme="https://dana5haw.com/tags/DHCP/"/>
    
  </entry>
  
  <entry>
    <title>DNS分离解析服务搭建</title>
    <link href="https://dana5haw.com/posts/ZH-CN/DNS-seperate-explanation.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/DNS-seperate-explanation.html</id>
    <published>2020-07-04T09:21:34.000Z</published>
    <updated>2020-07-04T10:54:20.218Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>DNS分离解析实现的效果就是，同一个域名，在不同地区解析出的IP地址不同。很常用，目的是加快用户访问网站的速度，比如：cdn加速。</p><a id="more"></a><h2 id="DNS分离解析服务搭建"><a href="#DNS分离解析服务搭建" class="headerlink" title="DNS分离解析服务搭建"></a>DNS分离解析服务搭建</h2><p>DNS服务器：</p><ul><li>北京网络：122.71.115.1</li><li>美国网络：106.185.25.1<br>客户端：</li><li>北京用户：122.71.115.10</li><li>美国用户：106.185.25.10</li></ul><ol><li>安装bind-chroot<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install bind-chroot</span><br></pre></td></tr></table></figure></li><li>编辑主配置文件<code>/etc/named.conf</code>，改为any，并删除根域信息。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image3b61f8066837cf2b.png" alt="image3b61f8066837cf2b.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image5efa1af0d50dd0be.png" alt="image5efa1af0d50dd0be.png"></li><li>编辑区域配置文件<code>/etc/named.rfc1912.zones</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">acl &quot;china&quot; &#123; 122.71.115.0&#x2F;24; &#125;;</span><br><span class="line">acl &quot;america&quot; &#123; 106.185.25.0&#x2F;24; &#125;;</span><br><span class="line">view &quot;china&quot; &#123;</span><br><span class="line">match-clients &#123; &quot;china&quot;; &#125;;</span><br><span class="line">zone &quot;linuxprobe.com&quot; &#123;</span><br><span class="line">type master;</span><br><span class="line">file &quot;linuxprobe.com.china&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;;</span><br><span class="line">view &quot;america&quot; &#123;</span><br><span class="line">match-clients &#123; &quot;america&quot;; &#125;;</span><br><span class="line">zone &quot;linuxprobe.com&quot; &#123;</span><br><span class="line">type master;</span><br><span class="line">file &quot;linuxprobe.com.america&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li>拷贝正向解析模板<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp -a &#x2F;var&#x2F;named&#x2F;named.local &#x2F;var&#x2F;named&#x2F;linuxprobe.com.china #北京用户正向解析文件</span><br><span class="line">cp -a &#x2F;var&#x2F;named&#x2F;named.local &#x2F;var&#x2F;named&#x2F;linuxprobe.com.america #美国用户正向解析文件</span><br></pre></td></tr></table></figure></li><li>编辑正向解析文件</li></ol><ul><li>编辑北京用户正向解析文件<code>/var/named/linuxprobe.com.china</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$TTL 1D</span><br><span class="line">@       IN SOA  linuxprobe.com. root.linuxprobe.com. (</span><br><span class="line">                                        0       ; serial</span><br><span class="line">                                        1D      ; refresh</span><br><span class="line">                                        1H      ; retry</span><br><span class="line">                                        1W      ; expire</span><br><span class="line">                                        3H )    ; minimum</span><br><span class="line">        NS      ns.linuxprobe.com.</span><br><span class="line">ns      IN A    122.71.115.1</span><br><span class="line">www     IN A    122.71.115.1</span><br></pre></td></tr></table></figure></li><li>编辑美国用户正向解析文件<code>/var/named/linuxprobe.com.america</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$TTL 1D</span><br><span class="line">@       IN SOA  linuxprobe.com. root.linuxprobe.com. (</span><br><span class="line">                                        0       ; serial</span><br><span class="line">                                        1D      ; refresh</span><br><span class="line">                                        1H      ; retry</span><br><span class="line">                                        1W      ; expire</span><br><span class="line">                                        3H )    ; minimum</span><br><span class="line">        NS      ns.linuxprobe.com.</span><br><span class="line">ns      IN A    106.185.25.1</span><br><span class="line">www     IN A    106.185.25.1</span><br></pre></td></tr></table></figure></li></ul><ol start="6"><li>清空防火墙规则<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables -F</span><br><span class="line">service iptables save</span><br></pre></td></tr></table></figure></li><li>设置网卡信息<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nmtui #进入图形化界面配置网卡信息</span><br><span class="line">systemctl restart network #重启网卡使配置生效</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/imagedf8d626ac2a67a74.png" alt="imagedf8d626ac2a67a74.png"></li><li>开启DNS服务并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start named</span><br><span class="line">systemctl enable named</span><br></pre></td></tr></table></figure></li></ol><h2 id="验证DNS分离解析服务的效果"><a href="#验证DNS分离解析服务的效果" class="headerlink" title="验证DNS分离解析服务的效果"></a>验证DNS分离解析服务的效果</h2><p>开启一台可以连外网的客户端（网卡为桥接模式），更改IP地址分别模拟北京用户和美国用户，观察域名<a href="http://www.linuxprobe.com解析出的IP地址是多少。" target="_blank" rel="noopener">www.linuxprobe.com解析出的IP地址是多少。</a></p><ul><li>模拟北京用户<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nmtui #进入图形化界面配置网卡信息</span><br><span class="line">systemctl restart network #重启网卡使配置生效</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image3c70a91180774d01.png" alt="image3c70a91180774d01.png"><br>测试分离解析是否成功<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping www.linuxprobe.com #解析出的IP是北京网络，就说明分离解析成功</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image02894ecf9a80b752.png" alt="image02894ecf9a80b752.png"></li><li>模拟美国用户<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nmtui #进入图形化界面配置网卡信息</span><br><span class="line">systemctl restart network #重启网卡使配置生效</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image804c56d8f8973430.png" alt="image804c56d8f8973430.png"><br>测试分离解析是否成功<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping www.linuxprobe.com #解析出的IP是美国网络，就说明分离解析成功</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image502a16fd9de744a5.png" alt="image502a16fd9de744a5.png"></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;DNS分离解析实现的效果就是，同一个域名，在不同地区解析出的IP地址不同。很常用，目的是加快用户访问网站的速度，比如：cdn加速。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="DNS分离解析" scheme="https://dana5haw.com/tags/DNS%E5%88%86%E7%A6%BB%E8%A7%A3%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>DNS缓存服务搭建</title>
    <link href="https://dana5haw.com/posts/ZH-CN/DNS-cache-server.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/DNS-cache-server.html</id>
    <published>2020-07-04T09:21:15.000Z</published>
    <updated>2020-07-04T10:02:57.685Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>DNS缓存服务是为了加快用户访问网站的速度。</p><a id="more"></a><h2 id="DNS缓存服务器搭建"><a href="#DNS缓存服务器搭建" class="headerlink" title="DNS缓存服务器搭建"></a>DNS缓存服务器搭建</h2><p>缓存服务器(双网卡)：</p><ul><li>网卡一：桥接模式</li><li>网卡二：仅主机模式，192.168.0.106<br>客户端（仅主机模式）：192.168.0.102</li></ul><ol><li>缓存服务器设置</li></ol><ul><li>添加双网卡，一个连外网、一个连内网<br>连外网的网卡：设置为桥接模式<br>连内网的网卡：设置为仅主机模式，IP地址设置为192.168.0.106</li><li>安装bind-chroot<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install bind-chroot</span><br></pre></td></tr></table></figure></li><li>编辑主配置文件<code>/etc/named.conf</code><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image78b27f29415d80dc.png" alt="image78b27f29415d80dc.png"></li><li>编辑配置文件<code>/etc/sysctl.conf</code>，写入下面这句，开启ipv4转发功能<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.ip_forward &#x3D; 1</span><br></pre></td></tr></table></figure>输入命令<code>sysctl -p</code>立即生效</li><li>清除防火墙规则<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables -F</span><br><span class="line">service iptables save</span><br></pre></td></tr></table></figure></li><li>开启DNS服务并加入开机启动项<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start named</span><br><span class="line">systemctl enable named</span><br></pre></td></tr></table></figure></li></ul><ol start="2"><li>客户端配置</li></ol><ul><li>设置网卡信息，网关和DNS服务器设置为缓存服务器的IP地址192.168.0.106<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nm-connection-editor #进入图形化界面配置IP信息</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image5e5effb880c24fdc.png" alt="image5e5effb880c24fdc.png"></li><li>验证DNS缓存服务的效果<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ping 192.168.0.106 #保证能够ping通DNS缓存服务器的IP地址</span><br><span class="line">nslookup www.baidu.com #目前无法获取到缓存DNS信息，应该是DNS服务器（114.114.114.114）有限制</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image09493880cf1839e6.png" alt="image09493880cf1839e6.png"></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;DNS缓存服务是为了加快用户访问网站的速度。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="DNS缓存服务" scheme="https://dana5haw.com/tags/DNS%E7%BC%93%E5%AD%98%E6%9C%8D%E5%8A%A1/"/>
    
  </entry>
  
  <entry>
    <title>使用TISG加密机制增强DNS服务器之间数据传输的安全性</title>
    <link href="https://dana5haw.com/posts/ZH-CN/TISG-DNS-master-slave-safe-transfer.html"/>
    <id>https://dana5haw.com/posts/ZH-CN/TISG-DNS-master-slave-safe-transfer.html</id>
    <published>2020-07-04T07:29:58.000Z</published>
    <updated>2020-07-04T10:58:59.041Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>为了确保DNS主从服务器之间数据传输的安全性，可使用TISG加密机制传输数据。</p><a id="more"></a><h2 id="TISG加密机制传输数据"><a href="#TISG加密机制传输数据" class="headerlink" title="TISG加密机制传输数据"></a>TISG加密机制传输数据</h2><p>主服务器：192.168.0.106<br>从服务器：192.168.0.102</p><ol><li>主服务器配置</li></ol><ul><li>使用dnssec-keygen生成密钥<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">dnssec-keygen -a HMAC-MD5 -b 128 -n HOST master-slave</span><br></pre></td></tr></table></figure><div class="note [class]">            <p>解析：<code>-a</code>参数，指的是加密算法类型。<br><code>-b</code>参数，指的是密钥长度。<br><code>-n</code>参数，指的是密钥类型。<br><code>master-salve</code>是自定义的密钥名称。</p>          </div>我们需要用到私钥的key。<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image35d6b3e9c4032c01.png" alt="image35d6b3e9c4032c01.png"></li><li>编辑密钥传输文件<code>/var/named/chroot/etc/tansfer.key</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">key &quot;master-slave&quot; &#123;</span><br><span class="line">algorithm hmac-md5;</span><br><span class="line">secret &quot;1g7++KPRr3ZIbf7szGO2gw&#x3D;&#x3D;&quot;; #刚刚生成的私钥的key</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image05527506e3684c3f.png" alt="image05527506e3684c3f.png"></li><li>设置密钥传输文件的权限<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 640 &#x2F;var&#x2F;named&#x2F;chroot&#x2F;etc&#x2F;transfer.key</span><br><span class="line">chown root:named &#x2F;var&#x2F;named&#x2F;chroot&#x2F;etc&#x2F;transfer.key</span><br></pre></td></tr></table></figure></li><li>将密钥传输文件链接到/etc目录 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln &#x2F;var&#x2F;named&#x2F;chroot&#x2F;etc&#x2F;transfer.key &#x2F;etc</span><br></pre></td></tr></table></figure></li><li>编辑主配置文件/etc/named.conf，增加以下两句<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image8992a90ca8278ac8.png" alt="image8992a90ca8278ac8.png"></li><li>清除iptables规则<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables -F</span><br><span class="line">service iptables save</span><br></pre></td></tr></table></figure></li><li>重启DNS服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart named</span><br></pre></td></tr></table></figure></li></ul><ol start="2"><li>从服务器配置</li></ol><ul><li>删除已从主服务器同步的正向解析文件和反向解析文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf &#x2F;var&#x2F;named&#x2F;slaves&#x2F;*</span><br></pre></td></tr></table></figure></li><li>从主服务器拷贝transfer.key文件，放到/var/named/chroot/etc目录</li><li>设置密钥传输文件的权限<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 640 &#x2F;var&#x2F;named&#x2F;chroot&#x2F;etc&#x2F;transfer.key</span><br><span class="line">chown root:named &#x2F;var&#x2F;named&#x2F;chroot&#x2F;etc&#x2F;transfer.key</span><br></pre></td></tr></table></figure></li><li>将密钥传输文件链接到/etc目录 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln &#x2F;var&#x2F;named&#x2F;chroot&#x2F;etc&#x2F;transfer.key &#x2F;etc</span><br></pre></td></tr></table></figure></li><li>编辑主配置文件/etc/named.conf，增加以下部分<br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image4f1df0f4771bdc68.png" alt="image4f1df0f4771bdc68.png"><br><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/imagedb0144bcba5c4a67.png" alt="imagedb0144bcba5c4a67.png"></li><li>重启DNS服务<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart named</span><br></pre></td></tr></table></figure></li><li>检查是否成功从主服务器同步正向解析文件和反向解析文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls &#x2F;var&#x2F;named&#x2F;slaves</span><br></pre></td></tr></table></figure><img src="https://v2ray.dana5haw.com:8008/images/2020/07/04/image44d442f2657c8a1b.png" alt="image44d442f2657c8a1b.png"></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;为了确保DNS主从服务器之间数据传输的安全性，可使用TISG加密机制传输数据。&lt;/p&gt;
    
    </summary>
    
    
      <category term="RHCE" scheme="https://dana5haw.com/categories/RHCE/"/>
    
    
      <category term="TISG加密" scheme="https://dana5haw.com/tags/TISG%E5%8A%A0%E5%AF%86/"/>
    
      <category term="DNS服务数据传输安全" scheme="https://dana5haw.com/tags/DNS%E6%9C%8D%E5%8A%A1%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
</feed>
